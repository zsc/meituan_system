<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="./">
    <title>ç¬¬8ç« ï¼šå®šä»·ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>ç›®å½•</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="æœç´¢..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-item " >
                        <a href="index.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¾å›¢è¶…è„‘ç³»ç»Ÿå¤ç°æ•™ç¨‹</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter1.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬1ç« ï¼šå›¾çµç®—æ³•å¹³å°</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter2.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬2ç« ï¼šå¤§è§„æ¨¡ç‰¹å¾è®¡ç®—</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter3.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬3ç« ï¼šæœºå™¨å­¦ä¹ å¹³å°</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter4.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬4ç« ï¼šè°ƒåº¦å¼•æ“ - å®æ—¶å¤šäººå¤šç‚¹åˆ†é…</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter5.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬5ç« ï¼šè§„åˆ’å¼•æ“ï¼ˆç½‘ç»œ/ç«™ç‚¹/è¿åŠ›ç»“æ„è§„åˆ’ï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter6.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬6ç« ï¼šETAç³»ç»Ÿ - å…¨é“¾è·¯æ—¶é—´é¢„ä¼°</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter7.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬7ç« ï¼šLBSç³»ç»Ÿï¼ˆåœ°å›¾/åœ°å€åº“/è·¯å¾„è§„åˆ’ï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item active" >
                        <a href="chapter8.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬8ç« ï¼šå®šä»·ç³»ç»Ÿ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter9.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬9ç« ï¼šç²¾å‡†è¥é”€ä¸ä¼šå‘˜ä½“ç³»</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter10.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬10ç« ï¼šåæœºå™¨äººæ»¥ç”¨ä¸è¯„è®ºçœŸå®æ€§ä¿éšœ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter11.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬11ç« ï¼šAgentå¹³ç­‰æœåŠ¡ä¸æ™ºèƒ½åŒ–åŒ…å®¹è®¾è®¡</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter12.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬12ç« ï¼šç¾å›¢Appä¸è¶…çº§Appæ¶æ„</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter13.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬13ç« ï¼šMCPæœåŠ¡ä¸å¤šæ™ºèƒ½ä½“ååŒ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter14.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬14ç« ï¼šç³»ç»Ÿé›†æˆä¸å…¨é“¾è·¯ä¼˜åŒ–</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter15.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬15ç« ï¼šLLM/Agent èƒ½åŠ›ä½“ç³»ä¸å®æ–½è·¯çº¿å›¾</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="CLAUDE.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">1) å›¾çµç®—æ³•å¹³å°ï¼ˆç®—æ³•åŸºç¡€è®¾æ–½ï¼‰</span>
                        </a>
                    </div>
                </nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <h1 id="8">ç¬¬8ç« ï¼šå®šä»·ç³»ç»Ÿ</h1>
<p>åœ¨ç¾å›¢å¤–å–çš„ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œå®šä»·ç³»ç»Ÿæ‰®æ¼”ç€ç»æµè°ƒèŠ‚å™¨çš„è§’è‰²ã€‚å®ƒä¸ä»…å†³å®šäº†ç”¨æˆ·æ”¯ä»˜çš„é…é€è´¹ã€éª‘æ‰‹è·å¾—çš„æŠ¥é…¬ï¼Œæ›´æ˜¯å¹³è¡¡ä¾›éœ€å…³ç³»ã€ä¼˜åŒ–èµ„æºé…ç½®çš„å…³é”®æ æ†ã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨å¦‚ä½•æ„å»ºä¸€ä¸ªæ—¢èƒ½ä¿è¯ç»æµæ•ˆç‡ï¼Œåˆèƒ½å…¼é¡¾å…¬å¹³æ€§çš„åŠ¨æ€å®šä»·ç³»ç»Ÿï¼Œç†è§£å…¶èƒŒåçš„ç»æµå­¦åŸç†ã€ç®—æ³•å®ç°å’Œå·¥ç¨‹æŒ‘æˆ˜ã€‚</p>
<h2 id="_1">å­¦ä¹ ç›®æ ‡</h2>
<p>å®Œæˆæœ¬ç« å­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š</p>
<ol>
<li><strong>ç†è§£å®šä»·æœºåˆ¶</strong>ï¼šæŒæ¡å¤–å–é…é€å®šä»·çš„ç»æµå­¦åŸºç¡€å’Œå¤šæ–¹åšå¼ˆæ¨¡å‹</li>
<li><strong>éœ€æ±‚å»ºæ¨¡èƒ½åŠ›</strong>ï¼šå­¦ä¼šæ„å»ºéœ€æ±‚å¼¹æ€§æ¨¡å‹ï¼Œé¢„æµ‹ä»·æ ¼å˜åŒ–å¯¹è®¢å•é‡çš„å½±å“</li>
<li><strong>ç®—æ³•å®ç°</strong>ï¼šæŒæ¡åŠ¨æ€å®šä»·ç®—æ³•çš„æ ¸å¿ƒæŠ€æœ¯ï¼ŒåŒ…æ‹¬å®æ—¶è®¡ç®—å’Œä¼˜åŒ–æ–¹æ³•</li>
<li><strong>ä¾›éœ€å¹³è¡¡</strong>ï¼šç†è§£å¦‚ä½•é€šè¿‡ä»·æ ¼æ æ†è°ƒèŠ‚é«˜å³°æœŸä¾›éœ€çŸ›ç›¾</li>
<li><strong>æ¿€åŠ±è®¾è®¡</strong>ï¼šå­¦ä¼šè®¾è®¡æœ‰æ•ˆçš„è¡¥è´´å’Œæ¿€åŠ±æœºåˆ¶ï¼Œæå‡ç³»ç»Ÿæ•ˆç‡</li>
<li><strong>å…¬å¹³è€ƒé‡</strong>ï¼šç†è§£å®šä»·å…¬å¹³æ€§çš„å¤šç»´åº¦è¯„ä¼°å’Œåˆè§„è¦æ±‚</li>
</ol>
<h2 id="81">8.1 å®šä»·ç³»ç»Ÿæ¦‚è¿°</h2>
<h3 id="811">8.1.1 ç³»ç»Ÿå®šä½ä¸ç›®æ ‡</h3>
<p>å®šä»·ç³»ç»Ÿåœ¨ç¾å›¢è¶…è„‘ä¸­çš„å®šä½æ˜¯<strong>ç»æµè°ƒèŠ‚ä¸­æ¢</strong>ï¼Œå…¶æ ¸å¿ƒç›®æ ‡åŒ…æ‹¬ï¼š</p>
<div class="codehilite"><pre><span></span><code>                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   å®šä»·ç³»ç»Ÿç›®æ ‡      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ç”¨æˆ·ä½“éªŒ  â”‚          â”‚éª‘æ‰‹æ”¶ç›Š  â”‚          â”‚å¹³å°æ•ˆç‡  â”‚
   â”‚Â·å¯æ¥å—   â”‚          â”‚Â·å…¬å¹³æŠ¥é…¬ â”‚          â”‚Â·æˆæœ¬ä¼˜åŒ– â”‚
   â”‚Â·é€æ˜åˆç† â”‚          â”‚Â·æ¿€åŠ±å……åˆ† â”‚          â”‚Â·ä¾›éœ€å¹³è¡¡ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<p><strong>å¤šç›®æ ‡ä¼˜åŒ–æŒ‘æˆ˜</strong>ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·ä¾§</strong>ï¼šé…é€è´¹ä¸èƒ½è¿‡é«˜ï¼Œå½±å“ä¸‹å•æ„æ„¿</li>
<li><strong>éª‘æ‰‹ä¾§</strong>ï¼šæŠ¥é…¬è¦æœ‰å¸å¼•åŠ›ï¼Œç‰¹åˆ«æ˜¯é«˜å³°æœŸå’Œæ¶åŠ£å¤©æ°”</li>
<li><strong>å¹³å°ä¾§</strong>ï¼šåœ¨ä¿è¯æœåŠ¡è´¨é‡çš„å‰æä¸‹æ§åˆ¶è¡¥è´´æˆæœ¬</li>
</ul>
<h3 id="812">8.1.2 å®šä»·ä½“ç³»æ¶æ„</h3>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®šä»·ç³»ç»Ÿæ¶æ„                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¾“å…¥å±‚ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ä¾›éœ€çŠ¶æ€   â”‚  â”‚ETAé¢„ä¼°   â”‚  â”‚å¤©æ°”è·¯å†µ   â”‚  â”‚å†å²æ•°æ®   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
è®¡ç®—å±‚ï¼š                      â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           å®æ—¶å®šä»·å¼•æ“                        â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚  Â·åŸºç¡€ä»·æ ¼è®¡ç®—    Â·åŠ¨æ€è°ƒæ•´å› å­              â”‚
     â”‚  Â·éœ€æ±‚é¢„æµ‹æ¨¡å‹    Â·ä¾›ç»™å“åº”æ¨¡å‹              â”‚
     â”‚  Â·ä¼˜åŒ–æ±‚è§£å™¨      Â·çº¦æŸæ£€æŸ¥å™¨                â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
ç­–ç•¥å±‚ï¼š                      â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           ä»·æ ¼ç­–ç•¥ç®¡ç†                        â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚  Â·å³°è°·å®šä»·ç­–ç•¥    Â·æ¶åŠ£å¤©æ°”ç­–ç•¥              â”‚
     â”‚  Â·æ–°ç”¨æˆ·ç­–ç•¥      Â·ä¼šå‘˜ä¼˜æƒ ç­–ç•¥              â”‚
     â”‚  Â·åŒºåŸŸå·®å¼‚åŒ–      Â·å“ç±»å·®å¼‚åŒ–                â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
è¾“å‡ºå±‚ï¼š                      â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ç”¨æˆ·å®šä»·   â”‚  â”‚éª‘æ‰‹æ¿€åŠ±   â”‚  â”‚å•†å®¶è´¹ç‡   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="813">8.1.3 å…³é”®æ€§èƒ½æŒ‡æ ‡</h3>
<p>å®šä»·ç³»ç»Ÿçš„æ•ˆæœè¯„ä¼°æ¶‰åŠå¤šä¸ªç»´åº¦ï¼š</p>
<p><strong>ç»æµæŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li>æ€»äº¤æ˜“é¢ï¼ˆGMVï¼‰</li>
<li>å¹³å‡å®¢å•ä»·</li>
<li>è¡¥è´´ç‡ï¼ˆè¡¥è´´/GMVï¼‰</li>
<li>æ¯›åˆ©ç‡</li>
</ul>
<p><strong>è¿è¥æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li>è®¢å•å®Œæˆç‡</li>
<li>å±¥çº¦æ—¶æ•ˆ</li>
<li>éª‘æ‰‹æ¥å•ç‡</li>
<li>è¿åŠ›åˆ©ç”¨ç‡</li>
</ul>
<p><strong>ç”¨æˆ·æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li>ä»·æ ¼æ•æ„Ÿåº¦</li>
<li>å¤è´­ç‡</li>
<li>ç”¨æˆ·æ»¡æ„åº¦</li>
<li>æŠ•è¯‰ç‡</li>
</ul>
<h2 id="82">8.2 éœ€æ±‚å¼¹æ€§å»ºæ¨¡</h2>
<h3 id="821">8.2.1 ç†è®ºåŸºç¡€</h3>
<p>éœ€æ±‚å¼¹æ€§æ˜¯å®šä»·ç³»ç»Ÿçš„æ ¸å¿ƒæ¦‚å¿µï¼Œæè¿°äº†ä»·æ ¼å˜åŒ–å¯¹éœ€æ±‚é‡çš„å½±å“ï¼š</p>
<div class="codehilite"><pre><span></span><code>ä»·æ ¼å¼¹æ€§ç³»æ•° Îµ = (Î”Q/Q) / (Î”P/P)

å…¶ä¸­ï¼š

- Qï¼šéœ€æ±‚é‡ï¼ˆè®¢å•æ•°ï¼‰
- Pï¼šä»·æ ¼ï¼ˆé…é€è´¹ï¼‰
- Îµ &lt; -1ï¼šå¯Œæœ‰å¼¹æ€§ï¼ˆä»·æ ¼æ•æ„Ÿï¼‰
- -1 &lt; Îµ &lt; 0ï¼šç¼ºä¹å¼¹æ€§ï¼ˆä»·æ ¼ä¸æ•æ„Ÿï¼‰
</code></pre></div>

<h3 id="822">8.2.2 å¤šç»´åº¦å¼¹æ€§æ¨¡å‹</h3>
<p>å®é™…åœºæ™¯ä¸­ï¼Œéœ€æ±‚å¼¹æ€§å—å¤šä¸ªå› ç´ å½±å“ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">DemandElasticityModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å¤šç»´åº¦éœ€æ±‚å¼¹æ€§æ¨¡å‹</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_elasticity</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.2</span>  <span class="c1"># åŸºç¡€å¼¹æ€§ç³»æ•°</span>

    <span class="k">def</span> <span class="nf">calculate_elasticity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ ¹æ®ä¸Šä¸‹æ–‡è®¡ç®—å®æ—¶å¼¹æ€§</span>

<span class="sd">        contextåŒ…å«ï¼š</span>

<span class="sd">        - time_of_day: æ—¶æ®µï¼ˆæ—©é«˜å³°ã€åˆé«˜å³°ã€æ™šé«˜å³°ã€å¹³å³°ï¼‰</span>
<span class="sd">        - weather: å¤©æ°”çŠ¶å†µ</span>
<span class="sd">        - user_segment: ç”¨æˆ·åˆ†å±‚ï¼ˆæ–°å®¢ã€æ´»è·ƒã€æ²‰ç¡ï¼‰</span>
<span class="sd">        - category: å“ç±»ï¼ˆæ­£é¤ã€è½»é£Ÿã€é¥®å“ï¼‰</span>
<span class="sd">        - competitor_price: ç«å“ä»·æ ¼</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">elasticity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_elasticity</span>

        <span class="c1"># æ—¶æ®µè°ƒæ•´</span>
        <span class="n">time_factors</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;morning_peak&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>   <span class="c1"># æ—©é«˜å³°å¼¹æ€§é™ä½</span>
            <span class="s1">&#39;lunch_peak&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>     <span class="c1"># åˆé«˜å³°å¼¹æ€§æœ€ä½</span>
            <span class="s1">&#39;dinner_peak&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>   <span class="c1"># æ™šé«˜å³°å¼¹æ€§è¾ƒä½</span>
            <span class="s1">&#39;off_peak&#39;</span><span class="p">:</span> <span class="mf">1.2</span>        <span class="c1"># å¹³å³°å¼¹æ€§å¢åŠ </span>
        <span class="p">}</span>
        <span class="n">elasticity</span> <span class="o">*=</span> <span class="n">time_factors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;time_of_day&#39;</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="c1"># å¤©æ°”è°ƒæ•´</span>
        <span class="n">weather_factors</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;rain&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span>      <span class="c1"># é›¨å¤©å¼¹æ€§å¤§å¹…é™ä½</span>
            <span class="s1">&#39;snow&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>      <span class="c1"># é›ªå¤©å¼¹æ€§æœ€ä½</span>
            <span class="s1">&#39;high_temp&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="c1"># é«˜æ¸©å¼¹æ€§é™ä½</span>
            <span class="s1">&#39;normal&#39;</span><span class="p">:</span> <span class="mf">1.0</span>     <span class="c1"># æ­£å¸¸å¤©æ°”</span>
        <span class="p">}</span>
        <span class="n">elasticity</span> <span class="o">*=</span> <span class="n">weather_factors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="c1"># ç”¨æˆ·åˆ†å±‚è°ƒæ•´</span>
        <span class="n">user_factors</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;new&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>       <span class="c1"># æ–°ç”¨æˆ·ä»·æ ¼æ•æ„Ÿ</span>
            <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>    <span class="c1"># æ´»è·ƒç”¨æˆ·å¿ è¯šåº¦é«˜</span>
            <span class="s1">&#39;dormant&#39;</span><span class="p">:</span> <span class="mf">1.3</span>    <span class="c1"># æ²‰ç¡ç”¨æˆ·éœ€è¦ä»·æ ¼åˆºæ¿€</span>
        <span class="p">}</span>
        <span class="n">elasticity</span> <span class="o">*=</span> <span class="n">user_factors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;user_segment&#39;</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">elasticity</span>
</code></pre></div>

<h3 id="823">8.2.3 éœ€æ±‚é¢„æµ‹æ¨¡å‹</h3>
<p>åŸºäºå¼¹æ€§ç³»æ•°é¢„æµ‹ä¸åŒä»·æ ¼ä¸‹çš„éœ€æ±‚é‡ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">DemandForecastModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    éœ€æ±‚é¢„æµ‹æ¨¡å‹</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elasticity_model</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elasticity_model</span> <span class="o">=</span> <span class="n">elasticity_model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_demand</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># åŸºå‡†éœ€æ±‚é‡</span>

    <span class="k">def</span> <span class="nf">forecast_demand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_price</span><span class="p">,</span> <span class="n">new_price</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        é¢„æµ‹ä»·æ ¼å˜åŒ–åçš„éœ€æ±‚é‡</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># è®¡ç®—å½“å‰å¼¹æ€§</span>
        <span class="n">elasticity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">elasticity_model</span><span class="o">.</span><span class="n">calculate_elasticity</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>

        <span class="c1"># è®¡ç®—ä»·æ ¼å˜åŒ–ç‡</span>
        <span class="n">price_change_rate</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_price</span> <span class="o">-</span> <span class="n">current_price</span><span class="p">)</span> <span class="o">/</span> <span class="n">current_price</span>

        <span class="c1"># è®¡ç®—éœ€æ±‚å˜åŒ–ç‡</span>
        <span class="n">demand_change_rate</span> <span class="o">=</span> <span class="n">elasticity</span> <span class="o">*</span> <span class="n">price_change_rate</span>

        <span class="c1"># è·å–åŸºå‡†éœ€æ±‚</span>
        <span class="n">base_demand</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_base_demand</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>

        <span class="c1"># è®¡ç®—æ–°éœ€æ±‚é‡</span>
        <span class="n">new_demand</span> <span class="o">=</span> <span class="n">base_demand</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">demand_change_rate</span><span class="p">)</span>

        <span class="c1"># åº”ç”¨ä¸Šä¸‹é™çº¦æŸ</span>
        <span class="n">new_demand</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_constraints</span><span class="p">(</span><span class="n">new_demand</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_demand</span>

    <span class="k">def</span> <span class="nf">_get_base_demand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è·å–å†å²åŸºå‡†éœ€æ±‚é‡</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># åŸºäºå†å²åŒæœŸæ•°æ®</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;time_of_day&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_demand</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># é»˜è®¤1000å•</span>

    <span class="k">def</span> <span class="nf">_apply_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">demand</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        åº”ç”¨ä¸šåŠ¡çº¦æŸ</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># è¿åŠ›çº¦æŸ</span>
        <span class="n">max_capacity</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;available_riders&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="o">*</span> <span class="mi">20</span>  <span class="c1"># æ¯éª‘æ‰‹æ—¥å‡20å•</span>
        <span class="n">demand</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">demand</span><span class="p">,</span> <span class="n">max_capacity</span><span class="p">)</span>

        <span class="c1"># æœ€å°éœ€æ±‚ä¿éšœ</span>
        <span class="n">min_demand</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># ä¿æŒæœ€å°ä¸šåŠ¡é‡</span>
        <span class="n">demand</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">demand</span><span class="p">,</span> <span class="n">min_demand</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">demand</span>
</code></pre></div>

<h2 id="83">8.3 åŠ¨æ€å®šä»·ç®—æ³•</h2>
<h3 id="831">8.3.1 å®æ—¶å®šä»·æ¡†æ¶</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">RealTimePricingEngine</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å®æ—¶å®šä»·å¼•æ“</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_price_calculator</span> <span class="o">=</span> <span class="n">BasePriceCalculator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">surge_pricing</span> <span class="o">=</span> <span class="n">SurgePricingModel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">incentive_calculator</span> <span class="o">=</span> <span class="n">IncentiveCalculator</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">calculate_price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è®¡ç®—è®¢å•å®æ—¶ä»·æ ¼</span>

<span class="sd">        order_contextåŒ…å«ï¼š</span>

<span class="sd">        - distance: é…é€è·ç¦»</span>
<span class="sd">        - eta: é¢„è®¡é€è¾¾æ—¶é—´</span>
<span class="sd">        - region: é…é€åŒºåŸŸ</span>
<span class="sd">        - time: ä¸‹å•æ—¶é—´</span>
<span class="sd">        - supply_demand_ratio: ä¾›éœ€æ¯”</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># 1. è®¡ç®—åŸºç¡€ä»·æ ¼</span>
        <span class="n">base_price</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_price_calculator</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;distance&#39;</span><span class="p">],</span>
            <span class="n">region</span><span class="o">=</span><span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># 2. è®¡ç®—åŠ¨æ€è°ƒæ•´ç³»æ•°</span>
        <span class="n">surge_multiplier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">surge_pricing</span><span class="o">.</span><span class="n">calculate_multiplier</span><span class="p">(</span>
            <span class="n">supply_demand_ratio</span><span class="o">=</span><span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;supply_demand_ratio&#39;</span><span class="p">],</span>
            <span class="n">time</span><span class="o">=</span><span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># 3. åº”ç”¨åŠ¨æ€è°ƒæ•´</span>
        <span class="n">dynamic_price</span> <span class="o">=</span> <span class="n">base_price</span> <span class="o">*</span> <span class="n">surge_multiplier</span>

        <span class="c1"># 4. è®¡ç®—æ¿€åŠ±è¡¥è´´</span>
        <span class="n">incentive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">incentive_calculator</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
            <span class="n">order_context</span><span class="o">=</span><span class="n">order_context</span><span class="p">,</span>
            <span class="n">base_price</span><span class="o">=</span><span class="n">dynamic_price</span>
        <span class="p">)</span>

        <span class="c1"># 5. æœ€ç»ˆä»·æ ¼</span>
        <span class="n">final_price</span> <span class="o">=</span> <span class="n">dynamic_price</span> <span class="o">-</span> <span class="n">incentive</span>

        <span class="c1"># 6. åº”ç”¨ä»·æ ¼çº¦æŸ</span>
        <span class="n">final_price</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_price_constraints</span><span class="p">(</span><span class="n">final_price</span><span class="p">,</span> <span class="n">order_context</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;user_price&#39;</span><span class="p">:</span> <span class="n">final_price</span><span class="p">,</span>
            <span class="s1">&#39;rider_fee&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_rider_fee</span><span class="p">(</span><span class="n">final_price</span><span class="p">,</span> <span class="n">order_context</span><span class="p">),</span>
            <span class="s1">&#39;platform_subsidy&#39;</span><span class="p">:</span> <span class="n">incentive</span><span class="p">,</span>
            <span class="s1">&#39;breakdown&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="n">base_price</span><span class="p">,</span>
                <span class="s1">&#39;surge&#39;</span><span class="p">:</span> <span class="n">surge_multiplier</span><span class="p">,</span>
                <span class="s1">&#39;incentive&#39;</span><span class="p">:</span> <span class="n">incentive</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_apply_price_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        åº”ç”¨ä»·æ ¼çº¦æŸè§„åˆ™</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># æœ€ä½ä»·æ ¼ä¿æŠ¤</span>
        <span class="n">min_price</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># æœ€ä½2å…ƒ</span>

        <span class="c1"># æœ€é«˜ä»·æ ¼é™åˆ¶</span>
        <span class="n">max_price</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">base_price_calculator</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;distance&#39;</span><span class="p">],</span> <span class="n">context</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span>  <span class="c1"># ä¸è¶…è¿‡åŸºç¡€ä»·3å€</span>
            <span class="mf">50.0</span>  <span class="c1"># ç»å¯¹ä¸Šé™50å…ƒ</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">min_price</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">max_price</span><span class="p">))</span>
</code></pre></div>

<h3 id="832">8.3.2 å³°å€¼å®šä»·æ¨¡å‹</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">SurgePricingModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å³°å€¼å®šä»·ï¼ˆSurge Pricingï¼‰æ¨¡å‹</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">surge_threshold</span> <span class="o">=</span> <span class="mf">0.7</span>  <span class="c1"># ä¾›éœ€æ¯”é˜ˆå€¼</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_surge</span> <span class="o">=</span> <span class="mf">2.0</span>        <span class="c1"># æœ€å¤§æº¢ä»·å€æ•°</span>

    <span class="k">def</span> <span class="nf">calculate_multiplier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">supply_demand_ratio</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è®¡ç®—æº¢ä»·å€æ•°</span>

<span class="sd">        supply_demand_ratio: ä¾›éœ€æ¯”ï¼ˆå¯ç”¨éª‘æ‰‹æ•°/å¾…åˆ†é…è®¢å•æ•°ï¼‰</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># åŸºç¡€æº¢ä»·è®¡ç®—</span>
        <span class="k">if</span> <span class="n">supply_demand_ratio</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="c1"># ä¾›å¤§äºæ±‚ï¼Œæ— æº¢ä»·</span>
            <span class="n">base_multiplier</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="k">elif</span> <span class="n">supply_demand_ratio</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">surge_threshold</span><span class="p">:</span>
            <span class="c1"># è½»åº¦ä¾›éœ€å¤±è¡¡</span>
            <span class="n">base_multiplier</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">supply_demand_ratio</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># ä¸¥é‡ä¾›éœ€å¤±è¡¡</span>
            <span class="n">shortage_rate</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">surge_threshold</span> <span class="o">-</span> <span class="n">supply_demand_ratio</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">surge_threshold</span>
            <span class="n">base_multiplier</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="n">shortage_rate</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_surge</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="c1"># æ—¶æ®µè°ƒæ•´</span>
        <span class="n">time_multiplier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_time_multiplier</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

        <span class="c1"># ç»¼åˆæº¢ä»·</span>
        <span class="n">final_multiplier</span> <span class="o">=</span> <span class="n">base_multiplier</span> <span class="o">*</span> <span class="n">time_multiplier</span>

        <span class="c1"># å¹³æ»‘å¤„ç†ï¼ˆé¿å…ä»·æ ¼è·³å˜ï¼‰</span>
        <span class="n">final_multiplier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smooth_multiplier</span><span class="p">(</span><span class="n">final_multiplier</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">final_multiplier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_surge</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_time_multiplier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ—¶æ®µè°ƒæ•´ç³»æ•°</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hour</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">hour</span>

        <span class="c1"># ç”¨é¤é«˜å³°æ—¶æ®µ</span>
        <span class="k">if</span> <span class="mi">11</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">:</span>  <span class="c1"># åˆé¤</span>
            <span class="k">return</span> <span class="mf">1.2</span>
        <span class="k">elif</span> <span class="mi">17</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">:</span>  <span class="c1"># æ™šé¤</span>
            <span class="k">return</span> <span class="mf">1.15</span>
        <span class="k">elif</span> <span class="mi">7</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">:</span>   <span class="c1"># æ—©é¤</span>
            <span class="k">return</span> <span class="mf">1.1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">_smooth_multiplier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ä»·æ ¼å¹³æ»‘å¤„ç†</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># å››èˆäº”å…¥åˆ°0.1</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">multiplier</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span>
</code></pre></div>

<h2 id="84">8.4 ä¾›éœ€å¹³è¡¡ç­–ç•¥</h2>
<h3 id="841">8.4.1 ä¾›éœ€çŠ¶æ€ç›‘æ§</h3>
<p>å®æ—¶ç›‘æ§æ˜¯ä¾›éœ€å¹³è¡¡çš„åŸºç¡€ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">SupplyDemandMonitor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ä¾›éœ€çŠ¶æ€ç›‘æ§å™¨</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regions</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># åŒºåŸŸçŠ¶æ€</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alert_thresholds</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;severe_shortage&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>  <span class="c1"># ä¸¥é‡ç¼ºè¿åŠ›</span>
            <span class="s1">&#39;shortage&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>         <span class="c1"># è¿åŠ›ä¸è¶³</span>
            <span class="s1">&#39;balanced&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>         <span class="c1"># åŸºæœ¬å¹³è¡¡</span>
            <span class="s1">&#39;oversupply&#39;</span><span class="p">:</span> <span class="mf">1.5</span>        <span class="c1"># è¿åŠ›è¿‡å‰©</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region_id</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ›´æ–°åŒºåŸŸä¾›éœ€çŠ¶æ€</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># è·å–å®æ—¶æ•°æ®</span>
        <span class="n">available_riders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_available_riders</span><span class="p">(</span><span class="n">region_id</span><span class="p">)</span>
        <span class="n">pending_orders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_pending_orders</span><span class="p">(</span><span class="n">region_id</span><span class="p">)</span>
        <span class="n">incoming_orders_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_order_velocity</span><span class="p">(</span><span class="n">region_id</span><span class="p">)</span>

        <span class="c1"># è®¡ç®—ä¾›éœ€æ¯”</span>
        <span class="n">current_ratio</span> <span class="o">=</span> <span class="n">available_riders</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">pending_orders</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># é¢„æµ‹æœªæ¥ä¾›éœ€ï¼ˆè€ƒè™‘è®¢å•å¢é€Ÿï¼‰</span>
        <span class="n">future_demand</span> <span class="o">=</span> <span class="n">pending_orders</span> <span class="o">+</span> <span class="n">incoming_orders_rate</span> <span class="o">*</span> <span class="mi">10</span>  <span class="c1"># æœªæ¥10åˆ†é’Ÿ</span>
        <span class="n">future_ratio</span> <span class="o">=</span> <span class="n">available_riders</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">future_demand</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># åˆ¤æ–­çŠ¶æ€çº§åˆ«</span>
        <span class="n">state_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_classify_state</span><span class="p">(</span><span class="n">current_ratio</span><span class="p">)</span>

        <span class="c1"># æ›´æ–°åŒºåŸŸçŠ¶æ€</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regions</span><span class="p">[</span><span class="n">region_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
            <span class="s1">&#39;available_riders&#39;</span><span class="p">:</span> <span class="n">available_riders</span><span class="p">,</span>
            <span class="s1">&#39;pending_orders&#39;</span><span class="p">:</span> <span class="n">pending_orders</span><span class="p">,</span>
            <span class="s1">&#39;current_ratio&#39;</span><span class="p">:</span> <span class="n">current_ratio</span><span class="p">,</span>
            <span class="s1">&#39;future_ratio&#39;</span><span class="p">:</span> <span class="n">future_ratio</span><span class="p">,</span>
            <span class="s1">&#39;state_level&#39;</span><span class="p">:</span> <span class="n">state_level</span><span class="p">,</span>
            <span class="s1">&#39;trend&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_trend</span><span class="p">(</span><span class="n">region_id</span><span class="p">,</span> <span class="n">current_ratio</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">regions</span><span class="p">[</span><span class="n">region_id</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_classify_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ä¾›éœ€çŠ¶æ€åˆ†ç±»</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ratio</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">alert_thresholds</span><span class="p">[</span><span class="s1">&#39;severe_shortage&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s1">&#39;SEVERE_SHORTAGE&#39;</span>
        <span class="k">elif</span> <span class="n">ratio</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">alert_thresholds</span><span class="p">[</span><span class="s1">&#39;shortage&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s1">&#39;SHORTAGE&#39;</span>
        <span class="k">elif</span> <span class="n">ratio</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">alert_thresholds</span><span class="p">[</span><span class="s1">&#39;balanced&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s1">&#39;BALANCED&#39;</span>
        <span class="k">elif</span> <span class="n">ratio</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">alert_thresholds</span><span class="p">[</span><span class="s1">&#39;oversupply&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s1">&#39;NORMAL&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;OVERSUPPLY&#39;</span>

    <span class="k">def</span> <span class="nf">_calculate_trend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region_id</span><span class="p">,</span> <span class="n">current_ratio</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è®¡ç®—ä¾›éœ€è¶‹åŠ¿</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">region_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">regions</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;STABLE&#39;</span>

        <span class="n">prev_ratio</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">regions</span><span class="p">[</span><span class="n">region_id</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;current_ratio&#39;</span><span class="p">,</span> <span class="n">current_ratio</span><span class="p">)</span>
        <span class="n">change_rate</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_ratio</span> <span class="o">-</span> <span class="n">prev_ratio</span><span class="p">)</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">prev_ratio</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">change_rate</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;IMPROVING&#39;</span>
        <span class="k">elif</span> <span class="n">change_rate</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;DETERIORATING&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;STABLE&#39;</span>
</code></pre></div>

<h3 id="842">8.4.2 å¤šå±‚æ¬¡è°ƒèŠ‚æœºåˆ¶</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">SupplyDemandBalancer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ä¾›éœ€å¹³è¡¡è°ƒèŠ‚å™¨</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">price_lever</span> <span class="o">=</span> <span class="n">PriceLever</span><span class="p">()</span>           <span class="c1"># ä»·æ ¼æ æ†</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">capacity_scheduler</span> <span class="o">=</span> <span class="n">CapacityScheduler</span><span class="p">()</span>  <span class="c1"># è¿åŠ›è°ƒåº¦</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">incentive_system</span> <span class="o">=</span> <span class="n">IncentiveSystem</span><span class="p">()</span>      <span class="c1"># æ¿€åŠ±ç³»ç»Ÿ</span>

    <span class="k">def</span> <span class="nf">balance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region_state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ‰§è¡Œä¾›éœ€å¹³è¡¡ç­–ç•¥</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># æ ¹æ®çŠ¶æ€çº§åˆ«é€‰æ‹©ç­–ç•¥ç»„åˆ</span>
        <span class="k">if</span> <span class="n">region_state</span><span class="p">[</span><span class="s1">&#39;state_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SEVERE_SHORTAGE&#39;</span><span class="p">:</span>
            <span class="n">strategies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle_severe_shortage</span><span class="p">(</span><span class="n">region_state</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">region_state</span><span class="p">[</span><span class="s1">&#39;state_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SHORTAGE&#39;</span><span class="p">:</span>
            <span class="n">strategies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle_shortage</span><span class="p">(</span><span class="n">region_state</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">region_state</span><span class="p">[</span><span class="s1">&#39;state_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;OVERSUPPLY&#39;</span><span class="p">:</span>
            <span class="n">strategies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle_oversupply</span><span class="p">(</span><span class="n">region_state</span><span class="p">))</span>

        <span class="c1"># æ‰§è¡Œç­–ç•¥</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_strategies</span><span class="p">(</span><span class="n">strategies</span><span class="p">,</span> <span class="n">region_state</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span> <span class="nf">_handle_severe_shortage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å¤„ç†ä¸¥é‡è¿åŠ›çŸ­ç¼º</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># 1. ç«‹å³æé«˜é…é€è´¹ï¼ˆæŠ‘åˆ¶éœ€æ±‚ï¼‰</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PRICE_SURGE&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;multiplier&#39;</span><span class="p">:</span> <span class="mf">1.8</span><span class="p">,</span>
                <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>  <span class="c1"># 30åˆ†é’Ÿ</span>
                <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;é«˜å³°æœŸè¿åŠ›ç´§å¼ &#39;</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="c1"># 2. å‘æ”¾éª‘æ‰‹å³æ—¶å¥–åŠ±ï¼ˆå¢åŠ ä¾›ç»™ï¼‰</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;INSTANT_BONUS&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>  <span class="c1"># æ¯å•é¢å¤–5å…ƒ</span>
                <span class="s1">&#39;target_riders&#39;</span><span class="p">:</span> <span class="s1">&#39;nearby&#39;</span><span class="p">,</span>  <span class="c1"># é™„è¿‘éª‘æ‰‹</span>
                <span class="s1">&#39;radius&#39;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>  <span class="c1"># 5å…¬é‡ŒèŒƒå›´</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;åŒºåŸŸè®¢å•ç«çˆ†ï¼Œé¢å¤–å¥–åŠ±ç­‰ä½ æ‹¿ï¼&#39;</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="c1"># 3. è·¨åŒºåŸŸè¿åŠ›è°ƒé…</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;CROSS_REGION_DISPATCH&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;source_regions&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_oversupply_regions</span><span class="p">(),</span>
                <span class="s1">&#39;incentive&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>  <span class="c1"># è·¨åŒºå¥–åŠ±3å…ƒ</span>
                <span class="s1">&#39;max_distance&#39;</span><span class="p">:</span> <span class="mi">3000</span>  <span class="c1"># æœ€å¤§è°ƒé…è·ç¦»3å…¬é‡Œ</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="c1"># 4. å»¶é•¿é¢„è®¡é€è¾¾æ—¶é—´ï¼ˆé™ä½æœåŠ¡æ‰¿è¯ºï¼‰</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ETA_EXTENSION&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;extra_minutes&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="s1">&#39;display_reason&#39;</span><span class="p">:</span> <span class="s1">&#39;å½“å‰è®¢å•è¾ƒå¤šï¼Œé€è¾¾æ—¶é—´å¯èƒ½å»¶é•¿&#39;</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="k">return</span> <span class="n">strategies</span>

    <span class="k">def</span> <span class="nf">_handle_shortage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å¤„ç†è¿åŠ›ä¸è¶³</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># 1. æ¸©å’Œæä»·</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PRICE_SURGE&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;multiplier&#39;</span><span class="p">:</span> <span class="mf">1.3</span><span class="p">,</span>
                <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="c1"># 2. å®šå‘å¬å›ä¼‘æ¯éª‘æ‰‹</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;RECALL_RIDERS&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="s1">&#39;resting&#39;</span><span class="p">,</span>  <span class="c1"># ä¼‘æ¯ä¸­çš„éª‘æ‰‹</span>
                <span class="s1">&#39;incentive&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;è®¢å•å¢å¤šï¼Œå¿«æ¥æ¥å•èµšé’±ï¼&#39;</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="k">return</span> <span class="n">strategies</span>

    <span class="k">def</span> <span class="nf">_handle_oversupply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å¤„ç†è¿åŠ›è¿‡å‰©</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># 1. é™ä½é…é€è´¹ï¼ˆåˆºæ¿€éœ€æ±‚ï¼‰</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PRICE_DISCOUNT&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;discount_rate&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="c1"># 8æŠ˜</span>
                <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
                <span class="s1">&#39;max_discount&#39;</span><span class="p">:</span> <span class="mi">3</span>  <span class="c1"># æœ€é«˜å‡3å…ƒ</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="c1"># 2. å¼•å¯¼éª‘æ‰‹è½¬ç§»</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;GUIDE_TRANSFER&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;target_regions&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_shortage_regions</span><span class="p">(),</span>
                <span class="s1">&#39;display_heatmap&#39;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="k">return</span> <span class="n">strategies</span>
</code></pre></div>

<h3 id="843">8.4.3 é¢„æµ‹æ€§è°ƒèŠ‚</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">PredictiveBalancer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    é¢„æµ‹æ€§ä¾›éœ€å¹³è¡¡</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">demand_predictor</span> <span class="o">=</span> <span class="n">DemandPredictor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">supply_predictor</span> <span class="o">=</span> <span class="n">SupplyPredictor</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">predict_and_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region_id</span><span class="p">,</span> <span class="n">horizon_minutes</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        é¢„æµ‹æœªæ¥ä¾›éœ€å¹¶æå‰è°ƒèŠ‚</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># é¢„æµ‹æœªæ¥éœ€æ±‚</span>
        <span class="n">future_demand</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">demand_predictor</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
            <span class="n">region_id</span><span class="o">=</span><span class="n">region_id</span><span class="p">,</span>
            <span class="n">horizon</span><span class="o">=</span><span class="n">horizon_minutes</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;time_of_day&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_time_features</span><span class="p">(),</span>
                <span class="s1">&#39;weather&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_weather_forecast</span><span class="p">(),</span>
                <span class="s1">&#39;events&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_nearby_events</span><span class="p">(),</span>
                <span class="s1">&#39;historical_pattern&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_historical_pattern</span><span class="p">(</span><span class="n">region_id</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># é¢„æµ‹æœªæ¥ä¾›ç»™</span>
        <span class="n">future_supply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">supply_predictor</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
            <span class="n">region_id</span><span class="o">=</span><span class="n">region_id</span><span class="p">,</span>
            <span class="n">horizon</span><span class="o">=</span><span class="n">horizon_minutes</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;active_riders&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_active_riders</span><span class="p">(</span><span class="n">region_id</span><span class="p">),</span>
                <span class="s1">&#39;shift_schedule&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_shift_changes</span><span class="p">(),</span>
                <span class="s1">&#39;fatigue_level&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_estimate_rider_fatigue</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># è®¡ç®—é¢„æœŸç¼ºå£</span>
        <span class="n">gap</span> <span class="o">=</span> <span class="n">future_demand</span> <span class="o">-</span> <span class="n">future_supply</span>
        <span class="n">gap_ratio</span> <span class="o">=</span> <span class="n">future_supply</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">future_demand</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># ç”Ÿæˆé¢„è°ƒèŠ‚ç­–ç•¥</span>
        <span class="k">if</span> <span class="n">gap_ratio</span> <span class="o">&lt;</span> <span class="mf">0.6</span><span class="p">:</span>  <span class="c1"># é¢„è®¡ä¸¥é‡çŸ­ç¼º</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_preemptive_strategies</span><span class="p">(</span><span class="n">gap</span><span class="p">,</span> <span class="n">region_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">_generate_preemptive_strategies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gap</span><span class="p">,</span> <span class="n">region_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ç”Ÿæˆé¢„é˜²æ€§ç­–ç•¥</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># æå‰20åˆ†é’Ÿå¼€å§‹æ¸è¿›å¼è°ƒä»·</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;GRADUAL_PRICING&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;start_time&#39;</span><span class="p">:</span> <span class="s1">&#39;T-20&#39;</span><span class="p">,</span>  <span class="c1"># æå‰20åˆ†é’Ÿ</span>
                <span class="s1">&#39;initial_multiplier&#39;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">,</span>
                <span class="s1">&#39;final_multiplier&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
                <span class="s1">&#39;step_duration&#39;</span><span class="p">:</span> <span class="mi">5</span>  <span class="c1"># æ¯5åˆ†é’Ÿé€’å¢</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="c1"># æå‰å¬é›†è¿åŠ›</span>
        <span class="n">strategies</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ADVANCE_MOBILIZATION&#39;</span><span class="p">,</span>
            <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;notification_time&#39;</span><span class="p">:</span> <span class="s1">&#39;T-15&#39;</span><span class="p">,</span>  <span class="c1"># æå‰15åˆ†é’Ÿé€šçŸ¥</span>
                <span class="s1">&#39;expected_orders&#39;</span><span class="p">:</span> <span class="n">gap</span><span class="p">,</span>
                <span class="s1">&#39;incentive_promise&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;é¢„è®¡</span><span class="si">{</span><span class="mi">15</span><span class="si">}</span><span class="s1">åˆ†é’Ÿåè®¢å•é«˜å³°ï¼Œæå‰åˆ°å²—æœ‰å¥–åŠ±ï¼&#39;</span>
            <span class="p">}</span>
        <span class="p">})</span>

        <span class="k">return</span> <span class="n">strategies</span>
</code></pre></div>

<h2 id="85">8.5 æ¿€åŠ±æœºåˆ¶è®¾è®¡</h2>
<h3 id="851">8.5.1 éª‘æ‰‹æ¿€åŠ±ä½“ç³»</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">RiderIncentiveSystem</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    éª‘æ‰‹æ¿€åŠ±ä½“ç³»</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_rules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_base_rules</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dynamic_rules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_dynamic_rules</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">calculate_incentives</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rider_id</span><span class="p">,</span> <span class="n">order_context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è®¡ç®—éª‘æ‰‹æ¿€åŠ±</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">incentives</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;base_fee&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>      <span class="c1"># åŸºç¡€é…é€è´¹</span>
            <span class="s1">&#39;distance_fee&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># è·ç¦»è¡¥è´´  </span>
            <span class="s1">&#39;time_bonus&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>    <span class="c1"># æ—¶æ•ˆå¥–åŠ±</span>
            <span class="s1">&#39;weather_bonus&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1"># æ¶åŠ£å¤©æ°”è¡¥è´´</span>
            <span class="s1">&#39;peak_bonus&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>    <span class="c1"># é«˜å³°æœŸå¥–åŠ±</span>
            <span class="s1">&#39;quality_bonus&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1"># æœåŠ¡è´¨é‡å¥–åŠ±</span>
            <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>

        <span class="c1"># 1. åŸºç¡€é…é€è´¹</span>
        <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;base_fee&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_base_fee</span><span class="p">(</span><span class="n">order_context</span><span class="p">)</span>

        <span class="c1"># 2. è·ç¦»é˜¶æ¢¯è¡¥è´´</span>
        <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;distance_fee&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_distance_fee</span><span class="p">(</span>
            <span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;distance&#39;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># 3. æ—¶æ•ˆå¥–åŠ±ï¼ˆå‡†æ—¶é€è¾¾ï¼‰</span>
        <span class="k">if</span> <span class="n">order_context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;on_time_delivery&#39;</span><span class="p">):</span>
            <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;time_bonus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># å‡†æ—¶å¥–åŠ±2å…ƒ</span>

        <span class="c1"># 4. æ¶åŠ£å¤©æ°”è¡¥è´´</span>
        <span class="n">weather_multiplier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_weather_multiplier</span><span class="p">(</span><span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">])</span>
        <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;weather_bonus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;base_fee&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">weather_multiplier</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># 5. é«˜å³°æœŸå¥–åŠ±</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_peak_time</span><span class="p">(</span><span class="n">order_context</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]):</span>
            <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;peak_bonus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.0</span>  <span class="c1"># é«˜å³°æœŸé¢å¤–3å…ƒ</span>

        <span class="c1"># 6. æœåŠ¡è´¨é‡å¥–åŠ±ï¼ˆåŸºäºéª‘æ‰‹è¯„åˆ†ï¼‰</span>
        <span class="n">rider_rating</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_rider_rating</span><span class="p">(</span><span class="n">rider_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rider_rating</span> <span class="o">&gt;=</span> <span class="mf">4.8</span><span class="p">:</span>
            <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;quality_bonus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># ä¼˜è´¨æœåŠ¡å¥–åŠ±1å…ƒ</span>

        <span class="c1"># è®¡ç®—æ€»æ¿€åŠ±</span>
        <span class="n">incentives</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span>
            <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">incentives</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> 
            <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">&#39;total&#39;</span>
        <span class="p">])</span>

        <span class="k">return</span> <span class="n">incentives</span>

    <span class="k">def</span> <span class="nf">_calculate_base_fee</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è®¡ç®—åŸºç¡€é…é€è´¹</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># èµ·æ­¥ä»·</span>
        <span class="n">base</span> <span class="o">=</span> <span class="mf">4.0</span>

        <span class="c1"># æ ¹æ®è®¢å•ä»·å€¼è°ƒæ•´</span>
        <span class="k">if</span> <span class="n">context</span><span class="p">[</span><span class="s1">&#39;order_value&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="n">base</span> <span class="o">+=</span> <span class="mf">1.0</span>

        <span class="k">return</span> <span class="n">base</span>

    <span class="k">def</span> <span class="nf">_calculate_distance_fee</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è·ç¦»é˜¶æ¢¯è®¡è´¹</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">1000</span><span class="p">:</span>  <span class="c1"># 1kmä»¥å†…</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">3000</span><span class="p">:</span>  <span class="c1"># 1-3km</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.001</span>  <span class="c1"># æ¯ç±³0.001å…ƒ</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># 3kmä»¥ä¸Š</span>
            <span class="k">return</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="mi">3000</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.002</span>  <span class="c1"># æ¯ç±³0.002å…ƒ</span>

    <span class="k">def</span> <span class="nf">_get_weather_multiplier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weather</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ¶åŠ£å¤©æ°”å€æ•°</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">multipliers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;heavy_rain&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
            <span class="s1">&#39;snow&#39;</span><span class="p">:</span> <span class="mf">1.8</span><span class="p">,</span>
            <span class="s1">&#39;high_temp&#39;</span><span class="p">:</span> <span class="mf">1.3</span><span class="p">,</span>  <span class="c1"># é«˜æ¸©(&gt;38Â°C)</span>
            <span class="s1">&#39;storm&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
            <span class="s1">&#39;normal&#39;</span><span class="p">:</span> <span class="mf">1.0</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">multipliers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</code></pre></div>

<h3 id="852">8.5.2 ç”¨æˆ·æ¿€åŠ±æœºåˆ¶</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">UserIncentiveSystem</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ç”¨æˆ·æ¿€åŠ±ä½“ç³»</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupon_engine</span> <span class="o">=</span> <span class="n">CouponEngine</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loyalty_program</span> <span class="o">=</span> <span class="n">LoyaltyProgram</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">generate_incentives</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ç”Ÿæˆç”¨æˆ·æ¿€åŠ±æ–¹æ¡ˆ</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">incentives</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># 1. æ–°ç”¨æˆ·çº¢åŒ…</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_new_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
            <span class="n">incentives</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;new_user_coupon&#39;</span><span class="p">,</span>
                <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                <span class="s1">&#39;threshold&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>  <span class="c1"># æ»¡15å‡5</span>
                <span class="s1">&#39;validity&#39;</span><span class="p">:</span> <span class="mi">7</span>     <span class="c1"># 7å¤©æœ‰æ•ˆæœŸ</span>
            <span class="p">})</span>

        <span class="c1"># 2. å³°è°·æœŸæ¿€åŠ±ï¼ˆå¼•å¯¼é”™å³°ï¼‰</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_off_peak</span><span class="p">(</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]):</span>
            <span class="n">incentives</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;off_peak_discount&#39;</span><span class="p">,</span>
                <span class="s1">&#39;discount_rate&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="c1"># é…é€è´¹8æŠ˜</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;é”™å³°ä¸‹å•ï¼Œé…é€è´¹8æŠ˜&#39;</span>
            <span class="p">})</span>

        <span class="c1"># 3. é¢„è®¢å•æ¿€åŠ±</span>
        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;is_scheduled&#39;</span><span class="p">):</span>
            <span class="n">incentives</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;scheduled_order_bonus&#39;</span><span class="p">,</span>
                <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;é¢„è®¢å•é…é€è´¹å‡2å…ƒ&#39;</span>
            <span class="p">})</span>

        <span class="c1"># 4. ä¼šå‘˜æƒç›Š</span>
        <span class="n">member_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loyalty_program</span><span class="o">.</span><span class="n">get_level</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">member_level</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">incentives</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;member_benefit&#39;</span><span class="p">,</span>
                <span class="s1">&#39;free_delivery_times&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>  <span class="c1"># æ¯æœˆ5æ¬¡å…é…é€è´¹</span>
                <span class="s1">&#39;discount_rate&#39;</span><span class="p">:</span> <span class="mf">0.1</span>       <span class="c1"># é…é€è´¹9æŠ˜</span>
            <span class="p">})</span>

        <span class="c1"># 5. å¬å›æ¿€åŠ±</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_churned_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
            <span class="n">incentives</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;win_back_coupon&#39;</span><span class="p">,</span>
                <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="s1">&#39;threshold&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;æ¬¢è¿å›æ¥ï¼Œé€æ‚¨10å…ƒä¼˜æƒ åˆ¸&#39;</span>
            <span class="p">})</span>

        <span class="k">return</span> <span class="n">incentives</span>
</code></pre></div>

<h2 id="86">8.6 å…¬å¹³æ€§ä¸åˆè§„</h2>
<h3 id="861">8.6.1 å®šä»·å…¬å¹³æ€§åŸåˆ™</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">FairnessPrinciples</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å®šä»·å…¬å¹³æ€§åŸåˆ™</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fairness_rules</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;non_discrimination&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>      <span class="c1"># éæ­§è§†åŸåˆ™</span>
            <span class="s1">&#39;transparency&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>            <span class="c1"># é€æ˜åŸåˆ™</span>
            <span class="s1">&#39;consistency&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>             <span class="c1"># ä¸€è‡´æ€§åŸåˆ™</span>
            <span class="s1">&#39;proportionality&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>         <span class="c1"># æ¯”ä¾‹åŸåˆ™</span>
            <span class="s1">&#39;accessibility&#39;</span><span class="p">:</span> <span class="kc">True</span>            <span class="c1"># å¯åŠæ€§åŸåˆ™</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">evaluate_fairness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pricing_decision</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è¯„ä¼°å®šä»·å†³ç­–çš„å…¬å¹³æ€§</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">violations</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># 1. æ£€æŸ¥åœ°åŸŸæ­§è§†</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_geographic_discrimination</span><span class="p">(</span><span class="n">pricing_decision</span><span class="p">):</span>
            <span class="n">violations</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;rule&#39;</span><span class="p">:</span> <span class="s1">&#39;non_discrimination&#39;</span><span class="p">,</span>
                <span class="s1">&#39;issue&#39;</span><span class="p">:</span> <span class="s1">&#39;å­˜åœ¨ä¸åˆç†çš„åœ°åŸŸå·®å¼‚å®šä»·&#39;</span><span class="p">,</span>
                <span class="s1">&#39;severity&#39;</span><span class="p">:</span> <span class="s1">&#39;HIGH&#39;</span>
            <span class="p">})</span>

        <span class="c1"># 2. æ£€æŸ¥ç”¨æˆ·ç¾¤ä½“æ­§è§†</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_user_discrimination</span><span class="p">(</span><span class="n">pricing_decision</span><span class="p">):</span>
            <span class="n">violations</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;rule&#39;</span><span class="p">:</span> <span class="s1">&#39;non_discrimination&#39;</span><span class="p">,</span>
                <span class="s1">&#39;issue&#39;</span><span class="p">:</span> <span class="s1">&#39;å¯¹ç‰¹å®šç”¨æˆ·ç¾¤ä½“å­˜åœ¨æ­§è§†æ€§å®šä»·&#39;</span><span class="p">,</span>
                <span class="s1">&#39;severity&#39;</span><span class="p">:</span> <span class="s1">&#39;CRITICAL&#39;</span>
            <span class="p">})</span>

        <span class="c1"># 3. æ£€æŸ¥ä»·æ ¼é€æ˜åº¦</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_transparent</span><span class="p">(</span><span class="n">pricing_decision</span><span class="p">):</span>
            <span class="n">violations</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;rule&#39;</span><span class="p">:</span> <span class="s1">&#39;transparency&#39;</span><span class="p">,</span>
                <span class="s1">&#39;issue&#39;</span><span class="p">:</span> <span class="s1">&#39;ä»·æ ¼æ„æˆä¸å¤Ÿé€æ˜&#39;</span><span class="p">,</span>
                <span class="s1">&#39;severity&#39;</span><span class="p">:</span> <span class="s1">&#39;MEDIUM&#39;</span>
            <span class="p">})</span>

        <span class="c1"># 4. æ£€æŸ¥ä¸€è‡´æ€§</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_consistent</span><span class="p">(</span><span class="n">pricing_decision</span><span class="p">):</span>
            <span class="n">violations</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;rule&#39;</span><span class="p">:</span> <span class="s1">&#39;consistency&#39;</span><span class="p">,</span>
                <span class="s1">&#39;issue&#39;</span><span class="p">:</span> <span class="s1">&#39;ç›¸ä¼¼è®¢å•ä»·æ ¼å·®å¼‚è¿‡å¤§&#39;</span><span class="p">,</span>
                <span class="s1">&#39;severity&#39;</span><span class="p">:</span> <span class="s1">&#39;MEDIUM&#39;</span>
            <span class="p">})</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;is_fair&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">violations</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;violations&#39;</span><span class="p">:</span> <span class="n">violations</span><span class="p">,</span>
            <span class="s1">&#39;fairness_score&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_fairness_score</span><span class="p">(</span><span class="n">violations</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_has_geographic_discrimination</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">decision</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ£€æŸ¥åœ°åŸŸæ­§è§†</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># è·å–ä¸åŒåŒºåŸŸçš„å¹³å‡ä»·æ ¼</span>
        <span class="n">region_prices</span> <span class="o">=</span> <span class="n">decision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;region_prices&#39;</span><span class="p">,</span> <span class="p">{})</span>

        <span class="c1"># è®¡ç®—ä»·æ ¼å·®å¼‚ç³»æ•°</span>
        <span class="k">if</span> <span class="n">region_prices</span><span class="p">:</span>
            <span class="n">prices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">region_prices</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="n">avg_price</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
            <span class="n">max_deviation</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">avg_price</span><span class="p">)</span> <span class="o">/</span> <span class="n">avg_price</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">)</span>

            <span class="c1"># å¦‚æœå·®å¼‚è¶…è¿‡30%ä¸”æ— åˆç†è§£é‡Šï¼Œè®¤ä¸ºå­˜åœ¨æ­§è§†</span>
            <span class="k">if</span> <span class="n">max_deviation</span> <span class="o">&gt;</span> <span class="mf">0.3</span><span class="p">:</span>
                <span class="c1"># æ£€æŸ¥æ˜¯å¦æœ‰åˆç†åŸå› ï¼ˆå¦‚æˆæœ¬å·®å¼‚ï¼‰</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_valid_reason</span><span class="p">(</span><span class="n">decision</span><span class="p">,</span> <span class="s1">&#39;geographic&#39;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_calculate_fairness_score</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">violations</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        è®¡ç®—å…¬å¹³æ€§å¾—åˆ†</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">violations</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">100</span>

        <span class="n">severity_weights</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;CRITICAL&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
            <span class="s1">&#39;HIGH&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
            <span class="s1">&#39;MEDIUM&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s1">&#39;LOW&#39;</span><span class="p">:</span> <span class="mi">5</span>
        <span class="p">}</span>

        <span class="n">penalty</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">severity_weights</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;severity&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">violations</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">penalty</span><span class="p">)</span>
</code></pre></div>

<h3 id="862">8.6.2 åˆè§„æ€§ç®¡ç†</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ComplianceManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    åˆè§„æ€§ç®¡ç†å™¨</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regulations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_regulations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">audit_logger</span> <span class="o">=</span> <span class="n">AuditLogger</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">check_compliance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pricing_strategy</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ£€æŸ¥å®šä»·ç­–ç•¥åˆè§„æ€§</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">compliance_results</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;is_compliant&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;violations&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;warnings&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;audit_trail&#39;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>

        <span class="c1"># 1. ä»·æ ¼ä¸Šé™æ£€æŸ¥</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_price_cap</span><span class="p">(</span><span class="n">pricing_strategy</span><span class="p">):</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;violations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;regulation&#39;</span><span class="p">:</span> <span class="s1">&#39;PRICE_CAP&#39;</span><span class="p">,</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;è¶…å‡ºç›‘ç®¡è§„å®šçš„æœ€é«˜é™ä»·&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action_required&#39;</span><span class="p">:</span> <span class="s1">&#39;IMMEDIATE&#39;</span>
            <span class="p">})</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;is_compliant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># 2. åŠ¨æ€å®šä»·å¹…åº¦é™åˆ¶</span>
        <span class="n">surge_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">regulations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_surge_multiplier&#39;</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pricing_strategy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;surge_multiplier&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">surge_limit</span><span class="p">:</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;violations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;regulation&#39;</span><span class="p">:</span> <span class="s1">&#39;SURGE_LIMIT&#39;</span><span class="p">,</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;æº¢ä»·å€æ•°è¶…è¿‡æ³•è§„é™åˆ¶(</span><span class="si">{</span><span class="n">surge_limit</span><span class="si">}</span><span class="s1">å€)&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action_required&#39;</span><span class="p">:</span> <span class="s1">&#39;IMMEDIATE&#39;</span>
            <span class="p">})</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;is_compliant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># 3. ä»·æ ¼å˜åŠ¨é¢‘ç‡é™åˆ¶</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_price_stability</span><span class="p">(</span><span class="n">pricing_strategy</span><span class="p">):</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;warnings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;regulation&#39;</span><span class="p">:</span> <span class="s1">&#39;PRICE_STABILITY&#39;</span><span class="p">,</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;ä»·æ ¼å˜åŠ¨è¿‡äºé¢‘ç¹ï¼Œå¯èƒ½è¿åæ¶ˆè´¹è€…ä¿æŠ¤æ³•&#39;</span><span class="p">,</span>
                <span class="s1">&#39;recommendation&#39;</span><span class="p">:</span> <span class="s1">&#39;å»¶é•¿ä»·æ ¼è°ƒæ•´å‘¨æœŸ&#39;</span>
            <span class="p">})</span>

        <span class="c1"># 4. æ•°æ®éšç§åˆè§„</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_data_privacy</span><span class="p">(</span><span class="n">pricing_strategy</span><span class="p">):</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;violations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;regulation&#39;</span><span class="p">:</span> <span class="s1">&#39;DATA_PRIVACY&#39;</span><span class="p">,</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;ä½¿ç”¨äº†æœªç»æˆæƒçš„ç”¨æˆ·æ•°æ®è¿›è¡Œå®šä»·&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action_required&#39;</span><span class="p">:</span> <span class="s1">&#39;IMMEDIATE&#39;</span>
            <span class="p">})</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;is_compliant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># 5. åå„æ–­åˆè§„</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_antitrust</span><span class="p">(</span><span class="n">pricing_strategy</span><span class="p">):</span>
            <span class="n">compliance_results</span><span class="p">[</span><span class="s1">&#39;warnings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;regulation&#39;</span><span class="p">:</span> <span class="s1">&#39;ANTITRUST&#39;</span><span class="p">,</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;å®šä»·ç­–ç•¥å¯èƒ½æ¶‰åŠæ å¤ºæ€§å®šä»·&#39;</span><span class="p">,</span>
                <span class="s1">&#39;recommendation&#39;</span><span class="p">:</span> <span class="s1">&#39;å®¡æŸ¥ç«äº‰ç­–ç•¥&#39;</span>
            <span class="p">})</span>

        <span class="c1"># è®°å½•å®¡è®¡æ—¥å¿—</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">audit_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">pricing_strategy</span><span class="p">,</span> <span class="n">compliance_results</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">compliance_results</span>

    <span class="k">def</span> <span class="nf">_check_price_cap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strategy</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ£€æŸ¥ä»·æ ¼ä¸Šé™</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">max_allowed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">regulations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_delivery_fee&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_price&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_allowed</span>

    <span class="k">def</span> <span class="nf">_check_price_stability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strategy</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æ£€æŸ¥ä»·æ ¼ç¨³å®šæ€§</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># æ£€æŸ¥24å°æ—¶å†…çš„ä»·æ ¼å˜åŠ¨æ¬¡æ•°</span>
        <span class="n">changes_per_day</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;daily_price_changes&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">max_changes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">regulations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_daily_changes&#39;</span><span class="p">,</span> <span class="mi">48</span><span class="p">)</span>  <span class="c1"># æ¯30åˆ†é’Ÿæœ€å¤šä¸€æ¬¡</span>
        <span class="k">return</span> <span class="n">changes_per_day</span> <span class="o">&lt;=</span> <span class="n">max_changes</span>
</code></pre></div>

<h3 id="863">8.6.3 ç®—æ³•å®¡è®¡ä¸å¯è§£é‡Šæ€§</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">PricingAuditor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å®šä»·ç®—æ³•å®¡è®¡å™¨</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">explainer</span> <span class="o">=</span> <span class="n">PricingExplainer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bias_detector</span> <span class="o">=</span> <span class="n">BiasDetector</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">audit_pricing_decision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_id</span><span class="p">,</span> <span class="n">pricing_result</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å®¡è®¡å•ä¸ªå®šä»·å†³ç­–</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">audit_report</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;order_id&#39;</span><span class="p">:</span> <span class="n">order_id</span><span class="p">,</span>
            <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
            <span class="s1">&#39;pricing_result&#39;</span><span class="p">:</span> <span class="n">pricing_result</span><span class="p">,</span>
            <span class="s1">&#39;explanations&#39;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s1">&#39;bias_analysis&#39;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s1">&#39;recommendations&#39;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>

        <span class="c1"># 1. ç”Ÿæˆå®šä»·è§£é‡Š</span>
        <span class="n">audit_report</span><span class="p">[</span><span class="s1">&#39;explanations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">explainer</span><span class="o">.</span><span class="n">explain</span><span class="p">(</span><span class="n">pricing_result</span><span class="p">)</span>

        <span class="c1"># 2. åè§æ£€æµ‹</span>
        <span class="n">audit_report</span><span class="p">[</span><span class="s1">&#39;bias_analysis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bias_detector</span><span class="o">.</span><span class="n">detect</span><span class="p">(</span><span class="n">pricing_result</span><span class="p">)</span>

        <span class="c1"># 3. ç”Ÿæˆæ”¹è¿›å»ºè®®</span>
        <span class="k">if</span> <span class="n">audit_report</span><span class="p">[</span><span class="s1">&#39;bias_analysis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bias_detected&#39;</span><span class="p">):</span>
            <span class="n">audit_report</span><span class="p">[</span><span class="s1">&#39;recommendations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;BIAS_MITIGATION&#39;</span><span class="p">,</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;æ£€æµ‹åˆ°æ½œåœ¨åè§ï¼Œå»ºè®®è°ƒæ•´ç®—æ³•å‚æ•°&#39;</span><span class="p">,</span>
                <span class="s1">&#39;priority&#39;</span><span class="p">:</span> <span class="s1">&#39;HIGH&#39;</span>
            <span class="p">})</span>

        <span class="k">return</span> <span class="n">audit_report</span>

    <span class="k">def</span> <span class="nf">generate_transparency_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ç”Ÿæˆé€æ˜åº¦æŠ¥å‘Š</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">report</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="n">period</span><span class="p">,</span>
            <span class="s1">&#39;pricing_statistics&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_pricing_stats</span><span class="p">(</span><span class="n">period</span><span class="p">),</span>
            <span class="s1">&#39;fairness_metrics&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_fairness_metrics</span><span class="p">(</span><span class="n">period</span><span class="p">),</span>
            <span class="s1">&#39;compliance_summary&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_compliance_summary</span><span class="p">(</span><span class="n">period</span><span class="p">),</span>
            <span class="s1">&#39;algorithm_changes&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_algorithm_changes</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">report</span>
</code></pre></div>

<h3 id="864">8.6.4 ç”¨æˆ·æƒç›Šä¿æŠ¤</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">UserRightsProtection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ç”¨æˆ·æƒç›Šä¿æŠ¤æœºåˆ¶</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">complaint_handler</span> <span class="o">=</span> <span class="n">ComplaintHandler</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refund_system</span> <span class="o">=</span> <span class="n">RefundSystem</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">handle_pricing_complaint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complaint</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å¤„ç†å®šä»·æŠ•è¯‰</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 1. éªŒè¯æŠ•è¯‰åˆç†æ€§</span>
        <span class="n">validation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_complaint</span><span class="p">(</span><span class="n">complaint</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">validation</span><span class="p">[</span><span class="s1">&#39;is_valid&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;REJECTED&#39;</span><span class="p">,</span>
                <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="n">validation</span><span class="p">[</span><span class="s1">&#39;rejection_reason&#39;</span><span class="p">],</span>
                <span class="s1">&#39;explanation&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_explanation</span><span class="p">(</span><span class="n">complaint</span><span class="p">)</span>
            <span class="p">}</span>

        <span class="c1"># 2. åˆ†æå®šä»·æ˜¯å¦åˆç†</span>
        <span class="n">analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_analyze_pricing</span><span class="p">(</span><span class="n">complaint</span><span class="p">[</span><span class="s1">&#39;order_id&#39;</span><span class="p">])</span>

        <span class="c1"># 3. ç¡®å®šå¤„ç†æ–¹æ¡ˆ</span>
        <span class="k">if</span> <span class="n">analysis</span><span class="p">[</span><span class="s1">&#39;has_issue&#39;</span><span class="p">]:</span>
            <span class="n">resolution</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;ACCEPTED&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;REFUND&#39;</span><span class="p">,</span>
                <span class="s1">&#39;refund_amount&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_refund</span><span class="p">(</span><span class="n">analysis</span><span class="p">),</span>
                <span class="s1">&#39;explanation&#39;</span><span class="p">:</span> <span class="n">analysis</span><span class="p">[</span><span class="s1">&#39;issue_description&#39;</span><span class="p">],</span>
                <span class="s1">&#39;preventive_measures&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_preventive_measures</span><span class="p">(</span><span class="n">analysis</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="c1"># æ‰§è¡Œé€€æ¬¾</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">refund_system</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">complaint</span><span class="p">[</span><span class="s1">&#39;order_id&#39;</span><span class="p">],</span> <span class="n">resolution</span><span class="p">[</span><span class="s1">&#39;refund_amount&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">resolution</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;EXPLAINED&#39;</span><span class="p">,</span>
                <span class="s1">&#39;explanation&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_detailed_explanation</span><span class="p">(</span><span class="n">analysis</span><span class="p">),</span>
                <span class="s1">&#39;price_breakdown&#39;</span><span class="p">:</span> <span class="n">analysis</span><span class="p">[</span><span class="s1">&#39;price_breakdown&#39;</span><span class="p">]</span>
            <span class="p">}</span>

        <span class="c1"># 4. è®°å½•å¤„ç†ç»“æœ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">complaint_handler</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">complaint</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">resolution</span>

    <span class="k">def</span> <span class="nf">provide_price_breakdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        æä¾›è¯¦ç»†çš„ä»·æ ¼æ˜ç»†</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_order</span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span>

        <span class="n">breakdown</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;base_fee&#39;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s1">&#39;base_price&#39;</span><span class="p">],</span>
            <span class="s1">&#39;distance_fee&#39;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s1">&#39;distance_fee&#39;</span><span class="p">],</span>
            <span class="s1">&#39;time_factor&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;multiplier&#39;</span><span class="p">:</span> <span class="n">order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time_multiplier&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
                <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_time_reason</span><span class="p">(</span><span class="n">order</span><span class="p">[</span><span class="s1">&#39;order_time&#39;</span><span class="p">])</span>
            <span class="p">},</span>
            <span class="s1">&#39;weather_factor&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;multiplier&#39;</span><span class="p">:</span> <span class="n">order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;weather_multiplier&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
                <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_weather_reason</span><span class="p">(</span><span class="n">order</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">])</span>
            <span class="p">},</span>
            <span class="s1">&#39;supply_demand_factor&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;multiplier&#39;</span><span class="p">:</span> <span class="n">order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;surge_multiplier&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
                <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;å½“å‰åŒºåŸŸè¿åŠ›ç´§å¼ &#39;</span> <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;surge_multiplier&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;æ­£å¸¸&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;discounts&#39;</span><span class="p">:</span> <span class="n">order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;discounts&#39;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="s1">&#39;final_price&#39;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s1">&#39;final_price&#39;</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">breakdown</span>
</code></pre></div>

<h2 id="_2">æœ¬ç« å°ç»“</h2>
<p>æœ¬ç« æ·±å…¥æ¢è®¨äº†ç¾å›¢å¤–å–å®šä»·ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªèåˆç»æµå­¦ç†è®ºã€æœºå™¨å­¦ä¹ æŠ€æœ¯å’Œå·¥ç¨‹å®è·µçš„å¤æ‚ç³»ç»Ÿã€‚é€šè¿‡å­¦ä¹ æœ¬ç« å†…å®¹ï¼Œæˆ‘ä»¬ç†è§£äº†ï¼š</p>
<h3 id="_3">æ ¸å¿ƒæ¦‚å¿µå›é¡¾</h3>
<ol>
<li>
<p><strong>å¤šç›®æ ‡ä¼˜åŒ–æ¡†æ¶</strong>ï¼šå®šä»·ç³»ç»Ÿéœ€è¦åœ¨ç”¨æˆ·ä½“éªŒã€éª‘æ‰‹æ”¶ç›Šå’Œå¹³å°æ•ˆç‡ä¹‹é—´å¯»æ‰¾æœ€ä¼˜å¹³è¡¡ç‚¹ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¤šç›®æ ‡ä¼˜åŒ–é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>éœ€æ±‚å¼¹æ€§ç†è®º</strong>ï¼šä»·æ ¼å˜åŒ–å¯¹è®¢å•é‡çš„å½±å“éµå¾ªéœ€æ±‚å¼¹æ€§è§„å¾‹ï¼Œä½†åœ¨ä¸åŒåœºæ™¯ä¸‹ï¼ˆæ—¶æ®µã€å¤©æ°”ã€ç”¨æˆ·ç¾¤ä½“ï¼‰å¼¹æ€§ç³»æ•°å·®å¼‚æ˜¾è‘—ã€‚</p>
</li>
<li>
<p><strong>åŠ¨æ€å®šä»·æœºåˆ¶</strong>ï¼šé€šè¿‡å®æ—¶ç›‘æ§ä¾›éœ€çŠ¶æ€ï¼ŒåŠ¨æ€è°ƒæ•´ä»·æ ¼å€æ•°ï¼Œå®ç°èµ„æºçš„é«˜æ•ˆé…ç½®ã€‚å³°å€¼å®šä»·ï¼ˆSurge Pricingï¼‰æ˜¯å…¶ä¸­çš„å…³é”®æŠ€æœ¯ã€‚</p>
</li>
<li>
<p><strong>ä¾›éœ€å¹³è¡¡ç­–ç•¥</strong>ï¼šç»¼åˆè¿ç”¨ä»·æ ¼æ æ†ã€è¿åŠ›è°ƒåº¦ã€æ¿€åŠ±è¡¥è´´ç­‰å¤šç§æ‰‹æ®µï¼Œå®ç°åŸå¸‚çº§è¿åŠ›ç½‘ç»œçš„åŠ¨æ€å¹³è¡¡ã€‚</p>
</li>
<li>
<p><strong>å…¬å¹³æ€§ä¸åˆè§„</strong>ï¼šåœ¨è¿½æ±‚ç»æµæ•ˆç‡çš„åŒæ—¶ï¼Œå¿…é¡»ç¡®ä¿å®šä»·çš„å…¬å¹³æ€§ã€é€æ˜æ€§å’Œåˆè§„æ€§ï¼Œä¿æŠ¤å„æ–¹åˆæ³•æƒç›Šã€‚</p>
</li>
</ol>
<h3 id="_4">å…³é”®æŠ€æœ¯è¦ç‚¹</h3>
<ul>
<li><strong>å®æ—¶è®¡ç®—æ¶æ„</strong>ï¼šæ¯«ç§’çº§çš„ä»·æ ¼è®¡ç®—å“åº”ï¼Œæ”¯æ’‘åƒä¸‡çº§æ—¥è®¢å•é‡</li>
<li><strong>é¢„æµ‹æ€§è°ƒèŠ‚</strong>ï¼šåŸºäºéœ€æ±‚é¢„æµ‹æå‰20-30åˆ†é’Ÿå¯åŠ¨è°ƒèŠ‚ç­–ç•¥</li>
<li><strong>åˆ†å±‚æ¿€åŠ±ä½“ç³»</strong>ï¼šé’ˆå¯¹éª‘æ‰‹å’Œç”¨æˆ·çš„å·®å¼‚åŒ–æ¿€åŠ±æœºåˆ¶</li>
<li><strong>ç®—æ³•å¯è§£é‡Šæ€§</strong>ï¼šç¡®ä¿å®šä»·å†³ç­–çš„é€æ˜åº¦å’Œå¯å®¡è®¡æ€§</li>
</ul>
<h3 id="_5">å·¥ç¨‹å®è·µæ€»ç»“</h3>
<ol>
<li><strong>æ¸è¿›å¼è°ƒä»·</strong>ï¼šé¿å…ä»·æ ¼è·³å˜ï¼Œé‡‡ç”¨å¹³æ»‘è¿‡æ¸¡ç­–ç•¥</li>
<li><strong>å¤šçº§ç†”æ–­æœºåˆ¶</strong>ï¼šè®¾ç½®ä»·æ ¼ä¸Šä¸‹é™ï¼Œé˜²æ­¢æç«¯æƒ…å†µ</li>
<li><strong>A/Bæµ‹è¯•æ¡†æ¶</strong>ï¼šæ–°ç­–ç•¥çš„ç°åº¦å‘å¸ƒå’Œæ•ˆæœè¯„ä¼°</li>
<li><strong>å®æ—¶ç›‘æ§ä½“ç³»</strong>ï¼šå…³é”®æŒ‡æ ‡çš„ç§’çº§ç›‘æ§å’Œè‡ªåŠ¨å‘Šè­¦</li>
</ol>
<h3 id="_6">ä¸å…¶ä»–æ¨¡å—çš„ååŒ</h3>
<p>å®šä»·ç³»ç»Ÿä¸æ˜¯å­¤ç«‹è¿è¡Œçš„ï¼Œå®ƒä¸è¶…è„‘ç³»ç»Ÿçš„å…¶ä»–æ¨¡å—ç´§å¯†åä½œï¼š</p>
<ul>
<li><strong>è¾“å…¥ä¾èµ–</strong>ï¼šETAç³»ç»Ÿçš„æ—¶é—´é¢„ä¼°ã€LBSç³»ç»Ÿçš„è·ç¦»è®¡ç®—ã€è°ƒåº¦å¼•æ“çš„ä¾›éœ€çŠ¶æ€</li>
<li><strong>è¾“å‡ºå½±å“</strong>ï¼šä»·æ ¼å˜åŒ–å½±å“ç”¨æˆ·ä¸‹å•å†³ç­–ã€éª‘æ‰‹æ¥å•æ„æ„¿ã€æ•´ä½“å±¥çº¦æ•ˆç‡</li>
<li><strong>åé¦ˆå¾ªç¯</strong>ï¼šæ‰§è¡Œç»“æœå›æµç‰¹å¾å¹³å°ï¼Œç”¨äºæ¨¡å‹è¿­ä»£ä¼˜åŒ–</li>
</ul>
<h2 id="_7">ç»ƒä¹ é¢˜</h2>
<h3 id="_8">åŸºç¡€é¢˜ï¼ˆç†è§£æ¦‚å¿µï¼‰</h3>
<ol>
<li><strong>éœ€æ±‚å¼¹æ€§è®¡ç®—</strong>
æŸåŒºåŸŸåœ¨æ­£å¸¸å¤©æ°”ã€åˆé«˜å³°æ—¶æ®µï¼Œé…é€è´¹ä»5å…ƒæå‡åˆ°7å…ƒåï¼Œè®¢å•é‡ä»1000å•/å°æ—¶ä¸‹é™åˆ°800å•/å°æ—¶ã€‚è¯·è®¡ç®—è¯¥åœºæ™¯ä¸‹çš„éœ€æ±‚ä»·æ ¼å¼¹æ€§ç³»æ•°ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>ä½¿ç”¨å¼¹æ€§ç³»æ•°å…¬å¼ï¼šÎµ = (Î”Q/Q) / (Î”P/P)ï¼Œæ³¨æ„è®¡ç®—å˜åŒ–ç‡ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>ä»·æ ¼å˜åŒ–ç‡ï¼š(7-5)/5 = 0.4 (40%)
éœ€æ±‚å˜åŒ–ç‡ï¼š(800-1000)/1000 = -0.2 (-20%)
å¼¹æ€§ç³»æ•°ï¼šÎµ = -0.2 / 0.4 = -0.5</p>
<p>è¯¥åœºæ™¯ä¸‹éœ€æ±‚ç¼ºä¹å¼¹æ€§ï¼ˆ|Îµ| &lt; 1ï¼‰ï¼Œè¯´æ˜ç”¨æˆ·å¯¹ä»·æ ¼ä¸å¤ªæ•æ„Ÿï¼Œå¯èƒ½å› ä¸ºåˆé«˜å³°æ˜¯åˆšéœ€æ—¶æ®µã€‚</p>
</details>
<ol start="2">
<li><strong>ä¾›éœ€æ¯”åˆ¤æ–­</strong>
æŸåŒºåŸŸæœ‰50åå¯ç”¨éª‘æ‰‹ï¼Œå¾…åˆ†é…è®¢å•80å•ï¼Œè®¢å•å¢é€Ÿä¸º10å•/åˆ†é’Ÿã€‚è¯·åˆ¤æ–­è¯¥åŒºåŸŸçš„ä¾›éœ€çŠ¶æ€ï¼Œå¹¶è¯´æ˜åº”é‡‡å–ä»€ä¹ˆè°ƒèŠ‚ç­–ç•¥ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è®¡ç®—å½“å‰ä¾›éœ€æ¯”å’Œé¢„æµ‹æœªæ¥10åˆ†é’Ÿçš„ä¾›éœ€æ¯”ï¼Œå‚è€ƒä¾›éœ€çŠ¶æ€åˆ†ç±»é˜ˆå€¼ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>å½“å‰ä¾›éœ€æ¯”ï¼š50/80 = 0.625
æœªæ¥10åˆ†é’Ÿé¢„æµ‹ï¼š80 + 10Ã—10 = 180å•ï¼Œä¾›éœ€æ¯” = 50/180 = 0.278</p>
<p>å½“å‰å¤„äº"è¿åŠ›ä¸è¶³"çŠ¶æ€ï¼ˆ0.5 &lt; 0.625 &lt; 0.8ï¼‰
æœªæ¥å°†è¿›å…¥"ä¸¥é‡ç¼ºè¿åŠ›"çŠ¶æ€ï¼ˆ0.278 &lt; 0.3ï¼‰</p>
<p>å»ºè®®ç­–ç•¥ï¼š</p>
<ol>
<li>ç«‹å³å¯åŠ¨æ¸©å’Œæ¶¨ä»·ï¼ˆ1.3å€ï¼‰</li>
<li>å¬å›ä¼‘æ¯éª‘æ‰‹</li>
<li>æå‰20åˆ†é’Ÿå¼€å§‹æ¸è¿›å¼è°ƒä»·ï¼Œä¸ºå³å°†åˆ°æ¥çš„é«˜å³°åšå‡†å¤‡</li>
</ol>
</details>
<ol start="3">
<li><strong>æ¿€åŠ±è®¡ç®—</strong>
ä¸€ä¸ªéª‘æ‰‹åœ¨é›¨å¤©æ™šé«˜å³°é…é€äº†ä¸€ä¸ª5å…¬é‡Œçš„è®¢å•ï¼Œå‡†æ—¶é€è¾¾ã€‚åŸºç¡€é…é€è´¹4å…ƒï¼Œè¯·è®¡ç®—è¯¥éª‘æ‰‹çš„æ€»æ”¶å…¥ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘è·ç¦»è¡¥è´´ã€æ¶åŠ£å¤©æ°”è¡¥è´´ã€é«˜å³°æœŸå¥–åŠ±ã€å‡†æ—¶å¥–åŠ±ç­‰å¤šä¸ªç»´åº¦ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>åŸºç¡€é…é€è´¹ï¼š4å…ƒ
è·ç¦»è¡¥è´´ï¼š2 + (5000-3000)Ã—0.002 = 6å…ƒ
é›¨å¤©è¡¥è´´ï¼š4 Ã— (1.5-1) = 2å…ƒ
é«˜å³°æœŸå¥–åŠ±ï¼š3å…ƒ
å‡†æ—¶å¥–åŠ±ï¼š2å…ƒ</p>
<p>æ€»æ”¶å…¥ï¼š4 + 6 + 2 + 3 + 2 = 17å…ƒ</p>
</details>
<h3 id="_9">æŒ‘æˆ˜é¢˜ï¼ˆæ·±å…¥æ€è€ƒï¼‰</h3>
<ol start="4">
<li><strong>å¤šåŒºåŸŸååŒå®šä»·</strong>
è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œå®ç°ç›¸é‚»åŒºåŸŸé—´çš„ååŒå®šä»·ç­–ç•¥ï¼Œé¿å…å› ä»·æ ¼å·®å¼‚è¿‡å¤§å¯¼è‡´çš„ç”¨æˆ·è·¨åŒºä¸‹å•æˆ–éª‘æ‰‹æ‰å †ç°è±¡ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘åŒºåŸŸé—´çš„ä»·æ ¼æ¢¯åº¦é™åˆ¶ã€è¿åŠ›æµåŠ¨é¢„æµ‹ã€è·¨åŒºè®¢å•æ£€æµ‹ç­‰å› ç´ ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>ç®—æ³•è®¾è®¡è¦ç‚¹ï¼š</p>
<ol>
<li>ä»·æ ¼æ¢¯åº¦çº¦æŸï¼šç›¸é‚»åŒºåŸŸä»·æ ¼å·®ä¸è¶…è¿‡20%</li>
<li>è¿åŠ›æµåŠ¨æ¨¡å‹ï¼šé¢„æµ‹ä»·å·®å¯¼è‡´çš„éª‘æ‰‹è¿ç§»</li>
<li>è·¨åŒºæ£€æµ‹ï¼šè¯†åˆ«å¼‚å¸¸çš„è·¨åŒºä¸‹å•æ¨¡å¼</li>
<li>ååŒä¼˜åŒ–ï¼šå°†å¤šåŒºåŸŸå®šä»·ä½œä¸ºæ•´ä½“ä¼˜åŒ–é—®é¢˜</li>
<li>æ¸è¿›è°ƒæ•´ï¼šåˆ†æ­¥éª¤ç¼©å°ä»·å·®ï¼Œé¿å…éœ‡è¡</li>
</ol>
<p>å®æ–½æ­¥éª¤ï¼š</p>
<ul>
<li>å»ºç«‹åŒºåŸŸé‚»æ¥å›¾</li>
<li>å®æ—¶ç›‘æ§è·¨åŒºæŒ‡æ ‡</li>
<li>è”åˆä¼˜åŒ–ç›®æ ‡å‡½æ•°</li>
<li>åè°ƒæ‰§è¡Œç­–ç•¥</li>
</ul>
</details>
<ol start="5">
<li><strong>é¢„æµ‹æ€§å®šä»·æ¨¡å‹</strong>
å¦‚ä½•ç»“åˆå†å²æ•°æ®ã€å®æ—¶çŠ¶æ€å’Œå¤–éƒ¨äº‹ä»¶ï¼ˆå¦‚æ¼”å”±ä¼šã€çƒèµ›ï¼‰ï¼Œæ„å»ºä¸€ä¸ªé¢„æµ‹æ€§å®šä»·æ¨¡å‹ï¼Ÿè¯·è®¾è®¡æ¨¡å‹æ¶æ„å’Œå…³é”®ç‰¹å¾ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘æ—¶åºç‰¹å¾ã€äº‹ä»¶ç‰¹å¾ã€å¤©æ°”é¢„æŠ¥ã€å†å²æ¨¡å¼ç­‰å¤šç»´åº¦ä¿¡æ¯çš„èåˆã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>æ¨¡å‹æ¶æ„ï¼š</p>
<ol>
<li>
<p>ç‰¹å¾å·¥ç¨‹å±‚ï¼š
   - æ—¶åºç‰¹å¾ï¼šå†å²åŒæœŸè®¢å•é‡ã€ä»·æ ¼ã€å®Œæˆç‡
   - äº‹ä»¶ç‰¹å¾ï¼šæ´»åŠ¨ç±»å‹ã€è§„æ¨¡ã€è·ç¦»ã€æ—¶é—´
   - ç¯å¢ƒç‰¹å¾ï¼šå¤©æ°”é¢„æŠ¥ã€äº¤é€šçŠ¶å†µã€èŠ‚å‡æ—¥
   - å‘¨æœŸç‰¹å¾ï¼šå°æ—¶ã€æ˜ŸæœŸã€æœˆä»½çš„å‘¨æœŸæ€§æ¨¡å¼</p>
</li>
<li>
<p>é¢„æµ‹æ¨¡å‹ï¼š
   - çŸ­æœŸé¢„æµ‹ï¼ˆ0-30åˆ†é’Ÿï¼‰ï¼šLSTM/GRU
   - ä¸­æœŸé¢„æµ‹ï¼ˆ30åˆ†é’Ÿ-2å°æ—¶ï¼‰ï¼šXGBoost
   - äº‹ä»¶å½±å“ï¼šå› æœæ¨æ–­æ¨¡å‹</p>
</li>
<li>
<p>å®šä»·ä¼˜åŒ–ï¼š
   - éœ€æ±‚é¢„æµ‹ â†’ ä¾›éœ€ç¼ºå£è¯„ä¼°
   - ä»·æ ¼æ•æ„Ÿåº¦ä¼°è®¡
   - æ”¶ç›Šæœ€å¤§åŒ–æ±‚è§£</p>
</li>
<li>
<p>åœ¨çº¿å­¦ä¹ ï¼š
   - å®æ—¶ç‰¹å¾æ›´æ–°
   - æ¨¡å‹å¢é‡å­¦ä¹ 
   - æ•ˆæœè¿½è¸ªåé¦ˆ</p>
</li>
</ol>
</details>
<ol start="6">
<li><strong>å…¬å¹³æ€§ç®—æ³•è®¾è®¡</strong>
è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œåœ¨ä¿è¯ç»æµæ•ˆç‡çš„åŒæ—¶ï¼Œç¡®ä¿ä¸åŒç”¨æˆ·ç¾¤ä½“ï¼ˆæ–°ç”¨æˆ·ã€è€ç”¨æˆ·ã€ä¼šå‘˜ã€éä¼šå‘˜ï¼‰ä¹‹é—´çš„å®šä»·å…¬å¹³æ€§ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>å®šä¹‰å…¬å¹³æ€§åº¦é‡æŒ‡æ ‡ï¼Œè®¾è®¡çº¦æŸæ¡ä»¶ï¼Œåœ¨ä¼˜åŒ–ç›®æ ‡ä¸­åŠ å…¥å…¬å¹³æ€§æƒ©ç½šé¡¹ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>ç®—æ³•è®¾è®¡ï¼š</p>
<ol>
<li>
<p>å…¬å¹³æ€§åº¦é‡ï¼š
   - ç»„é—´ä»·æ ¼å·®å¼‚ï¼šGiniç³»æ•°
   - ä¸ªä½“å…¬å¹³ï¼šç›¸ä¼¼è®¢å•ä»·æ ¼å·®å¼‚
   - ç¨‹åºå…¬å¹³ï¼šå®šä»·è§„åˆ™ä¸€è‡´æ€§</p>
</li>
<li>
<p>çº¦æŸæ¡ä»¶ï¼š
   - åŒç±»è®¢å•ä»·æ ¼å·®å¼‚ &lt; 15%
   - ä¸åŒç¾¤ä½“å¹³å‡ä»·æ ¼å·®å¼‚ &lt; 10%
   - ç¦æ­¢åŸºäºç”¨æˆ·æ ‡ç­¾çš„ç›´æ¥å·®å¼‚å®šä»·</p>
</li>
<li>
<p>ä¼˜åŒ–ç›®æ ‡ï¼š</p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="n">maximize</span><span class="o">:</span><span class="w"> </span><span class="n">Revenue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">Î»â‚Ã—</span><span class="n">Unfairness</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">Î»â‚‚Ã—</span><span class="n">Discrimination</span>
</code></pre></div>

<ol start="4">
<li>å®æ–½æœºåˆ¶ï¼š
   - ä»·æ ¼è§£é‡Šæ€§è¦æ±‚
   - å®šæœŸå…¬å¹³æ€§å®¡è®¡
   - ç”¨æˆ·ç”³è¯‰æ¸ é“
   - ç®—æ³•é€æ˜åº¦æŠ¥å‘Š</li>
</ol>
</details>
<ol start="7">
<li><strong>å¼‚å¸¸æ£€æµ‹ä¸é˜²æŠ¤</strong>
å¦‚ä½•æ£€æµ‹å’Œé˜²èŒƒå®šä»·ç³»ç»Ÿä¸­çš„å¼‚å¸¸æƒ…å†µï¼Œå¦‚ä»·æ ¼æ“çºµã€æ¶æ„åˆ·å•ã€ç³»ç»Ÿæ•…éšœå¯¼è‡´çš„å®šä»·é”™è¯¯ï¼Ÿ</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>å»ºç«‹å¤šå±‚æ¬¡çš„å¼‚å¸¸æ£€æµ‹æœºåˆ¶ï¼ŒåŒ…æ‹¬ç»Ÿè®¡æ£€æµ‹ã€è§„åˆ™æ£€æµ‹ã€æ¨¡å‹æ£€æµ‹ç­‰ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>é˜²æŠ¤ä½“ç³»è®¾è®¡ï¼š</p>
<ol>
<li>
<p>å®æ—¶å¼‚å¸¸æ£€æµ‹ï¼š
   - ä»·æ ¼å¼‚å¸¸ï¼šè¶…å‡ºå†å²3ÏƒèŒƒå›´
   - è®¢å•å¼‚å¸¸ï¼šå¼‚å¸¸çš„ä¸‹å•æ¨¡å¼
   - ç³»ç»Ÿå¼‚å¸¸ï¼šå“åº”æ—¶é—´ã€é”™è¯¯ç‡ç›‘æ§</p>
</li>
<li>
<p>å¤šå±‚é˜²æŠ¤æœºåˆ¶ï¼š
   - ç¬¬ä¸€å±‚ï¼šç¡¬æ€§è§„åˆ™ï¼ˆä»·æ ¼ä¸Šä¸‹é™ï¼‰
   - ç¬¬äºŒå±‚ï¼šç»Ÿè®¡å¼‚å¸¸æ£€æµ‹
   - ç¬¬ä¸‰å±‚ï¼šæœºå™¨å­¦ä¹ å¼‚å¸¸æ£€æµ‹
   - ç¬¬å››å±‚ï¼šäººå·¥å®¡æ ¸å…œåº•</p>
</li>
<li>
<p>åº”æ€¥å“åº”ï¼š
   - è‡ªåŠ¨ç†”æ–­ï¼šè§¦å‘é˜ˆå€¼åå›é€€åˆ°å®‰å…¨æ¨¡å¼
   - é™çº§ç­–ç•¥ï¼šä½¿ç”¨ç®€åŒ–çš„å®šä»·è§„åˆ™
   - å¿«é€Ÿå›æ»šï¼šä¸€é”®æ¢å¤åˆ°ä¸Šä¸€ç‰ˆæœ¬
   - å®æ—¶å‘Šè­¦ï¼šå¤šæ¸ é“é€šçŸ¥ç›¸å…³äººå‘˜</p>
</li>
<li>
<p>äº‹ååˆ†æï¼š
   - æ ¹å› åˆ†æ
   - å½±å“è¯„ä¼°
   - æ”¹è¿›æªæ–½
   - é¢„æ¡ˆæ›´æ–°</p>
</li>
</ol>
</details>
<ol start="8">
<li><strong>å®éªŒè®¾è®¡ä¸è¯„ä¼°</strong>
è®¾è®¡ä¸€ä¸ªA/Bæµ‹è¯•æ–¹æ¡ˆï¼Œè¯„ä¼°æ–°çš„åŠ¨æ€å®šä»·ç­–ç•¥æ•ˆæœã€‚åŒ…æ‹¬å®éªŒè®¾è®¡ã€æ ·æœ¬åˆ†é…ã€æ•ˆæœè¯„ä¼°ç­‰å®Œæ•´æµç¨‹ã€‚</li>
</ol>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘æ ·æœ¬é‡è®¡ç®—ã€åˆ†ç»„éšæœºæ€§ã€ç½‘ç»œæ•ˆåº”ã€é•¿æœŸå½±å“ç­‰å› ç´ ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>A/Bæµ‹è¯•æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>å®éªŒè®¾è®¡ï¼š
   - å‡è®¾ï¼šæ–°ç­–ç•¥èƒ½æå‡GMV 5%ï¼Œä¸é™ä½å®Œæˆç‡
   - æ ·æœ¬é‡ï¼šåŸºäºåŠŸæ•ˆåˆ†æè®¡ç®—æ‰€éœ€æ ·æœ¬
   - åˆ†ç»„ï¼šæŒ‰åŒºåŸŸéšæœºåˆ†ç»„ï¼Œé¿å…æº¢å‡ºæ•ˆåº”
   - æ—¶é•¿ï¼šè‡³å°‘2å‘¨ï¼Œè¦†ç›–å®Œæ•´ä¸šåŠ¡å‘¨æœŸ</p>
</li>
<li>
<p>åˆ†ç»„ç­–ç•¥ï¼š
   - åœ°ç†éš”ç¦»ï¼šé€‰æ‹©ä¸ç›¸é‚»çš„åŒºåŸŸ
   - æ—¶é—´äº¤å‰ï¼šåŒä¸€åŒºåŸŸä¸åŒæ—¶æ®µè½®æ¢
   - ç”¨æˆ·åˆ†å±‚ï¼šç¡®ä¿å„ç»„ç”¨æˆ·ç»“æ„ç›¸ä¼¼</p>
</li>
<li>
<p>æŒ‡æ ‡ä½“ç³»ï¼š
   - ä¸»è¦æŒ‡æ ‡ï¼šGMVã€è®¢å•é‡ã€å®Œæˆç‡
   - æ¬¡è¦æŒ‡æ ‡ï¼šå®¢å•ä»·ã€ç”¨æˆ·æ»¡æ„åº¦ã€éª‘æ‰‹æ”¶å…¥
   - æŠ¤æ æŒ‡æ ‡ï¼šæŠ•è¯‰ç‡ã€å–æ¶ˆç‡ã€è¶…æ—¶ç‡</p>
</li>
<li>
<p>æ•ˆæœè¯„ä¼°ï¼š
   - ç»Ÿè®¡æ˜¾è‘—æ€§æ£€éªŒ
   - å®é™…æ˜¾è‘—æ€§è¯„ä¼°
   - å¼‚è´¨æ€§åˆ†æï¼ˆä¸åŒåœºæ™¯æ•ˆæœï¼‰
   - é•¿æœŸå½±å“é¢„æµ‹</p>
</li>
<li>
<p>å†³ç­–æ¡†æ¶ï¼š
   - å…¨é¢æ¨å¹¿ï¼šä¸»è¦æŒ‡æ ‡æ˜¾è‘—æå‡ï¼ŒæŠ¤æ æŒ‡æ ‡ä¸æ¶åŒ–
   - éƒ¨åˆ†æ¨å¹¿ï¼šéƒ¨åˆ†åœºæ™¯æœ‰æ•ˆï¼Œé’ˆå¯¹æ€§æ¨å¹¿
   - ç»§ç»­ä¼˜åŒ–ï¼šæ•ˆæœä¸æ˜æ˜¾ï¼Œéœ€è¦æ”¹è¿›
   - å›æ»šï¼šè´Ÿé¢å½±å“æ˜æ˜¾</p>
</li>
</ol>
</details>
<h2 id="_10">å¸¸è§é™·é˜±ä¸é”™è¯¯</h2>
<h3 id="1">1. è¿‡åº¦ä¾èµ–å†å²æ•°æ®</h3>
<p><strong>é™·é˜±</strong>ï¼šå®Œå…¨åŸºäºå†å²æ•°æ®è®­ç»ƒæ¨¡å‹ï¼Œå¿½è§†å¸‚åœºç¯å¢ƒå˜åŒ–ã€‚</p>
<p><strong>æ¡ˆä¾‹</strong>ï¼šç–«æƒ…æœŸé—´ï¼Œå†å²æ¨¡å‹å¤±æ•ˆï¼Œéœ€æ±‚æ¨¡å¼å®Œå…¨æ”¹å˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å¼•å…¥è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶</li>
<li>å®šæœŸé‡è®­ç»ƒæ¨¡å‹</li>
<li>è®¾ç½®å¼‚å¸¸æ£€æµ‹å’Œé™çº§ç­–ç•¥</li>
<li>ä¿ç•™äººå·¥å¹²é¢„æ¥å£</li>
</ul>
<h3 id="2">2. å¿½è§†ç½‘ç»œæ•ˆåº”</h3>
<p><strong>é™·é˜±</strong>ï¼šå­¤ç«‹åœ°çœ‹å¾…å•ä¸ªåŒºåŸŸå®šä»·ï¼Œå¿½è§†åŒºåŸŸé—´çš„ç›¸äº’å½±å“ã€‚</p>
<p><strong>æ¡ˆä¾‹</strong>ï¼šAåŒºæ¶¨ä»·å¯¼è‡´è®¢å•æµå‘BåŒºï¼ŒBåŒºè¿åŠ›ä¸è¶³ï¼Œä¸¤åŒºéƒ½å‡ºç°é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å»ºç«‹å¤šåŒºåŸŸè”åˆä¼˜åŒ–æ¨¡å‹</li>
<li>ç›‘æ§è·¨åŒºåŸŸæŒ‡æ ‡</li>
<li>è®¾ç½®åŒºåŸŸé—´ä»·æ ¼æ¢¯åº¦é™åˆ¶</li>
<li>ååŒè°ƒåº¦è¿åŠ›èµ„æº</li>
</ul>
<h3 id="3">3. è¿‡æ¿€çš„ä»·æ ¼è°ƒæ•´</h3>
<p><strong>é™·é˜±</strong>ï¼šä»·æ ¼è°ƒæ•´è¿‡äºé¢‘ç¹æˆ–å¹…åº¦è¿‡å¤§ï¼Œå¼•èµ·ç”¨æˆ·åæ„Ÿã€‚</p>
<p><strong>æ¡ˆä¾‹</strong>ï¼š5åˆ†é’Ÿå†…ä»·æ ¼æ³¢åŠ¨è¶…è¿‡50%ï¼Œç”¨æˆ·æŠ•è¯‰æ¿€å¢ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>è®¾ç½®ä»·æ ¼å¹³æ»‘æœºåˆ¶</li>
<li>é™åˆ¶è°ƒæ•´é¢‘ç‡å’Œå¹…åº¦</li>
<li>æä¾›ä»·æ ¼é”å®šåŠŸèƒ½</li>
<li>æ¸…æ™°çš„ä»·æ ¼å˜åŠ¨è¯´æ˜</li>
</ul>
<h3 id="4">4. å•ä¸€ç›®æ ‡ä¼˜åŒ–</h3>
<p><strong>é™·é˜±</strong>ï¼šåªä¼˜åŒ–æ”¶å…¥æˆ–æˆæœ¬ï¼Œå¿½è§†ç”¨æˆ·ä½“éªŒå’Œéª‘æ‰‹æƒç›Šã€‚</p>
<p><strong>æ¡ˆä¾‹</strong>ï¼šè¿‡åº¦å‹ä½éª‘æ‰‹æ”¶å…¥å¯¼è‡´è¿åŠ›æµå¤±ï¼ŒæœåŠ¡è´¨é‡ä¸‹é™ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å»ºç«‹å¤šç›®æ ‡ä¼˜åŒ–æ¡†æ¶</li>
<li>è®¾ç½®å„æ–¹åˆ©ç›Šçš„ä¿æŠ¤é˜ˆå€¼</li>
<li>å®šæœŸè¯„ä¼°å„æ–¹æ»¡æ„åº¦</li>
<li>å»ºç«‹åˆ©ç›Šç›¸å…³æ–¹æ²Ÿé€šæœºåˆ¶</li>
</ul>
<h3 id="5">5. ç®—æ³•é»‘ç®±é—®é¢˜</h3>
<p><strong>é™·é˜±</strong>ï¼šå®šä»·ç®—æ³•è¿‡äºå¤æ‚ï¼Œæ— æ³•è§£é‡Šä»·æ ¼å†³ç­–ä¾æ®ã€‚</p>
<p><strong>æ¡ˆä¾‹</strong>ï¼šç”¨æˆ·è´¨ç–‘ä»·æ ¼å…¬å¹³æ€§ï¼Œå®¢æœæ— æ³•ç»™å‡ºåˆç†è§£é‡Šã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨å¯è§£é‡Šçš„æ¨¡å‹æ¶æ„</li>
<li>æä¾›ä»·æ ¼æ˜ç»†åˆ†è§£</li>
<li>å»ºç«‹å®¡è®¡è¿½è¸ªæœºåˆ¶</li>
<li>å®šæœŸå‘å¸ƒé€æ˜åº¦æŠ¥å‘Š</li>
</ul>
<h3 id="6">6. åˆè§„é£é™©å¿½è§†</h3>
<p><strong>é™·é˜±</strong>ï¼šåªå…³æ³¨æŠ€æœ¯å®ç°ï¼Œå¿½è§†æ³•å¾‹æ³•è§„è¦æ±‚ã€‚</p>
<p><strong>æ¡ˆä¾‹</strong>ï¼šåŠ¨æ€å®šä»·è¢«è®¤å®šä¸ºä»·æ ¼æ­§è§†ï¼Œé¢ä¸´ç›‘ç®¡å¤„ç½šã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å»ºç«‹åˆè§„å®¡æŸ¥æµç¨‹</li>
<li>è®¾ç½®åˆè§„æ€§æ£€æŸ¥ç‚¹</li>
<li>ä¿ç•™å®Œæ•´å®¡è®¡æ—¥å¿—</li>
<li>ä¸»åŠ¨ä¸ç›‘ç®¡éƒ¨é—¨æ²Ÿé€š</li>
</ul>
<h3 id="_11">è°ƒè¯•æŠ€å·§</h3>
<ol>
<li>
<p><strong>ä»·æ ¼å¼‚å¸¸æ’æŸ¥</strong>ï¼š
   - æ£€æŸ¥ç‰¹å¾æ•°æ®è´¨é‡
   - éªŒè¯æ¨¡å‹è¾“å…¥è¾“å‡º
   - è¿½è¸ªå†³ç­–è·¯å¾„
   - å¯¹æ¯”å†å²ç›¸ä¼¼åœºæ™¯</p>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š
   - ç¼“å­˜é«˜é¢‘è®¡ç®—ç»“æœ
   - å¼‚æ­¥å¤„ç†éå…³é”®è·¯å¾„
   - é™çº§åˆ°ç®€åŒ–æ¨¡å‹
   - é¢„è®¡ç®—å¸¸ç”¨ä»·æ ¼</p>
</li>
<li>
<p><strong>æ•ˆæœè¯„ä¼°</strong>ï¼š
   - è®¾ç½®å¯¹ç…§ç»„
   - æ§åˆ¶å˜é‡æ³•
   - é•¿æœŸè¿½è¸ª
   - å¤šç»´åº¦åˆ†æ</p>
</li>
</ol>
<p>é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†æ„å»ºå¤§è§„æ¨¡åŠ¨æ€å®šä»·ç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯å’Œå®è·µç»éªŒã€‚å®šä»·ç³»ç»Ÿä½œä¸ºå¹³å°ç»æµçš„å…³é”®ç»„ä»¶ï¼Œéœ€è¦åœ¨æŠ€æœ¯åˆ›æ–°å’Œå•†ä¸šä¼¦ç†ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä½œä¸ºå·¥ç¨‹å¸ˆçš„è´£ä»»æ‰€åœ¨ã€‚</p>
            </article>
            
            <nav class="page-nav"><a href="chapter7.html" class="nav-link prev">â† ç¬¬7ç« ï¼šLBSç³»ç»Ÿï¼ˆåœ°å›¾/åœ°å€åº“/è·¯å¾„è§„åˆ’ï¼‰</a><a href="chapter9.html" class="nav-link next">ç¬¬9ç« ï¼šç²¾å‡†è¥é”€ä¸ä¼šå‘˜ä½“ç³» â†’</a></nav>
        </main>
    </div>
</body>
</html>